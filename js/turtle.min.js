var turtle,$t,$rootScope,$client,$DOM,$node,$VDOM,$VNode;!function(){var arrayPrototype=Array.prototype,hasOwnProperty=(Object.prototype,Object.prototype.hasOwnProperty),slice=arrayPrototype.slice,push=arrayPrototype.push,getPrototypeOf=Object.getPrototypeOf,parseForOrderRE=(String.prototype.replace,/[a-zA-Z\d] in .*/),parseForOrderRE2=/^.*;.*;.*$/,addStyleRE=/;\s*$/,addClassNameRE=/\s+$/,readyRE=/complete|loaded|interactive/,memberRE=/{([\-a-zA-Z\d\.\%\u4e00-\u9fa5]+)(\!)?((['"]?)-?[\-a-zA-Z\d\.\%\u4e00-\u9fa5]*?\4)(\!)?((['"]?)-?[\-a-zA-Z\d\.\%\u4e00-\u9fa5]*?\7)}(\.(([a-zA-Z][a-zA-Z\d]+)(\([a-zA-Z\d\-\.\,\;\%\u4e00-\u9fa5]*\))?))?/g,orderRE=/^\s?(if|while|for|switch|async|break|-|scope|content|elements|bind|!|var|=)(\s|$)/g,orderCaseRE=/^\s?(else if|else|case break|case|default|end)(\s|$)/g,operatorRE=/\!=|==|=|<|>|\|/,camelCaseRE=/-(\w)/g,persentRE=/^\s*([\d.]+)%\s*$/,emptyTextNodeRE=/^\s*$/,functionCommentRE=/\/\*([\s\S]*?)\*\//g,xmlwordRE=/[a-zA-Z\/\!]/,classSplitRE=/\s+/g,styleListRE=/\s*([\w\-]+)\s*\:\s*(.*?)\s*[;$]/g,camelizeRE=/-+(.)?/g,deCamelizeRE=/[A-Z]/g,isIE=!!window.ActiveXObject||"ActiveXObject"in window,exec=eval,withthis=(document.createDocumentFragment(),"with(this){return eval($$turtle$$)};"),_execValueByScope=Function("$$turtle$$,v,node,outer,outerElement,props,part",withthis),_execByScope=Function("$$turtle$$,node,outer,outerElement,props,part",withthis),_execExpressionsByScope=Function("$$turtle$$,v,node",withthis),dateFormat=function(){return function(e,t){"use strict";var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}}();function last(){return this[this.length-1]}function ClassList(e){Object.defineProperty(this,"__elem__",{value:e,writable:!1,enumerable:!0,configurable:!0})}ClassList.prototype={add:function(e){var t=this.__elem__.className.split(classSplitRE),n=t.indexOf(e);~n||(t.push(e),this.__elem__.className=t.join(" "))},remove:function(e){var t=this.__elem__.className.split(classSplitRE),n=t.indexOf(e);~n&&(t.splice(n,1),this.__elem__.className=t.join(" "))},toggle:function(e){var t=this.__elem__.className.split(classSplitRE),n=t.indexOf(e);~n?t.splice(n,1):t.push(e),this.__elem__.className=t.join(" ")},contains:function(e){return!!~this.__elem__.className.split(classSplitRE).indexOf(e)},item:function(e){return this.__elem__.className.split(classSplitRE)[e]||null}};function defineClassList(e){Object.defineProperty(e,"classList",{enumerable:!0,configurable:!0,get:function(){return this.__classList__?this.__classList__:(Object.defineProperty(this,"__classList__",{writable:!1,enumerable:!1,configurable:!1,value:new ClassList(this)}),this.__classList__)}})}"classList"in document.documentElement||defineClassList(HTMLElement.prototype),function(){var e=Node.prototype.insertBefore;isIE?Node.prototype.insertBefore2=function(t,n){var r,i=[];switch(t.nodeType){case 3:if(""===t.data)return;case 8:for(r=n.nextSibling;null!==r;)i.push(this.removeChild(r)),r=n.nextSibling;i.unshift(this.removeChild(n)),this.appendChild(t);for(var o=0;o<i.length;o++)this.appendChild(i[o]);break;default:e.call(this,t,n)}}:Node.prototype.insertBefore2=e}();var require=function(){var e=newHashObject("RequireHash");function t(e){this.file=e,this.injectInvoke=Function(e+"\r\n;return function(s){return eval('('+s+')');};")()}return function(n,r){if(isArray(n)){var i=n.join(",");if(e.hasOwnProperty(i))return e[i].injectInvoke(r);for(var o="",a=0;a<n.length;a++)$t.xhr.get(n[a],!1,function(e){o+="\r\n"+e});var s=e[i]=new t(o);return s.injectInvoke(r)}if(e.hasOwnProperty(n))return e[n].injectInvoke(r);var c;return $t.xhr.get(n,!1,function(i){var o=e[n]=new t(i);c=o.injectInvoke(r)}),c}}();function KeyWord(){s=["target","download","ping","rel","hreflang","type","coords","charset","name","rev","shape","href","alt","noHref","cite","text","link","vLink","aLink","bgColor","background","clear","width","height","align","span","vAlign","open","compact","disabled","color","noShade","size","version","src","srcdoc","sandbox","allowFullscreen","scrolling","frameBorder","longDesc","marginHeight","marginWidth","srcset","sizes","crossOrigin","useMap","isMap","lowsrc","hspace","vspace","border","accept","autocomplete","autofocus","checked","dirName","formAction","formEnctype","formMethod","formNoValidate","formTarget","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","step","value","autocapitalize","webkitdirectory","incremental","dateTime","challenge","keytype","media","integrity","content","scheme","low","high","optimum","reversed","start","label","selected","valueType","async","defer","event","frame","rules","summary","cellPadding","cellSpacing","colSpan","rowSpan","headers","axis","noWrap","abbr","scope","cols","rows","wrap","kind","srclang","default","poster","xmp","anchor","area","audio","br","base","basefont","body","button","canvas","content","dlist","directory","div","embed","fieldset","font","form","frame","frameset","hr","head","heading","html","iframe","image","input","keygen","li","label","legend","link","map","marquee","media","menu","meta","meter","mod","olist","object","optgroup","option","output","paragraph","pre","progress","quote","script","select","source","span","style","tablecaption","tablecell","tablecol","table","tablerow","tablesection","textarea","title","track","ulist","unknown","video"];for(var e in s)this[s[e]]=s[e]}function toVarString(e){e=e.split(",");for(var t in e)e[t]=e[t]+'="'+e[t]+'"';return e="var "+e.join(",")+";"}var lowercase,uppercase,log=Function("s","console.log(s)"),bp=Function("debugger");"i"!=="I".toLowerCase()?(lowercase=function(e){return isString(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},uppercase=function(e){return isString(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&~32)}):e}):(lowercase=function(e){return isString(e)?e.toLowerCase():e},uppercase=function(e){return isString(e)?e.toUpperCase():e});function isBlankObject(e){return null!==e&&"object"===typeof e&&!getPrototypeOf(e)}function forEach(e,t,n,r){var i,o;if(void 0===r&&(r=!0),e)if(isFunction(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,r?e[i]:null,i,e);else if(isArray(e)||isArrayLike(e)){var a="object"!==typeof e;for(i=0,o=e.length;i<o;i++)(a||i in e)&&t.call(n,r?e[i]:null,i,e)}else if(e.forEach&&e.forEach!==forEach)e.forEach(t,n,e);else if(isBlankObject(e))for(i in e)t.call(n,r?e[i]:null,i,e);else if("function"===typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,r?e[i]:null,i,e);else for(i in e)hasOwnProperty.call(e,i)&&t.call(n,r?e[i]:null,i,e);return e}function removeNode(e){var t=e.parentNode;return t?t.removeChild(e):null}function isArrayLike(e){if(null==e||isWindow(e))return!1;if(isArray(e)||isString(e))return!0;var t="length"in Object(e)&&e.length;return isNumber(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function forEachSorted(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function _catch(e,t){isFunction(t)?t(e):isFunction($t.event.onerror)&&$t.event.onerror(e)}function onTry(e,t){var n=slice.call(arguments,2);try{this.apply(e,n)}catch(r){_catch(r,t)}}function handleWebkitRrror(e){var t=e.stack,n=t.split("\n");n.shift();for(var r=0;r<n.length;r++){var i=n[r].split(":");if(i.length>1){var o=i[i.length-1].replace(")",""),a=i[i.length-2];i=i[i.length-3].split("/"),i[i.length-1]=i[i.length-1].replace("html","h").replace("js","s"),n[r]="at "+i[i.length-1]+":"+a+":"+o}else n[r]=i[0].replace(/(^\s*)|(\s*$)/g,"")}return n.join("\r\n")}function getFileNameByURL(e){return e.match(/[a-zA-Z\d\._]+\.[a-zA-Z\d]+$/)[0]}function getNameByURL(e){return e.match(/[a-zA-Z\d\._]+\.[a-zA-Z\d]+$/)[0].replace(/\.[a-zA-Z\d]+$/,"")}function getNameByLocation(){return getFileNameByURL(window.location.href)}function getOnTry(e){var t=slice.call(arguments,1);return function(){for(var n=slice.call(t),r=0;r<arguments.length;r++)n.push(arguments[r]);try{return e.apply(this,n)}catch(i){_catch(i)}}}function $$(e){return document.getElementById(e)}function getBind(e,t){return function(){return t.apply(e,arguments)}}function getStep(e,t){if(!isNumber(t))return e;var n=t,r=function(){n===t?(n=1,e.apply(this,arguments)):n++};return r}function getStateFunction(e){var t=function(){return t.enable?e.apply(this,arguments):void 0};return t.enable=!0,t}function getReTimeout(e){var t=0;return function(n){t>0&&clearTimeout(t),n||(n=0);var r=this,i=slice.call(arguments,1);t=setTimeout(function(){t=0,e.apply(r,i)},n)}}function Empty(){}function getDebounce(e){if(!isFunction(e))return Empty;var t=0;return function(n){if(!(t>0)){n||(n=0);var r=this,i=slice.call(arguments,1);t=setTimeout(function(){t=0,e.apply(r,i)},n)}}}var locStorage=function(){var e=window.localStorage,t=0,n=0;function r(t,n){try{e&&(appcan.isString(n)||(n=JSON.stringify(n)),e.setItem(t,n))}catch(r){_catch(r)}}function i(e){if(appcan.isPlainObject(e))for(var i in e)e.hasOwnPropery(i)&&r(i,e[i]);else if(appcan.isArray(e))for(t=0,n=e.length;t<n;t++)e[t]&&r.apply(this,e[t]);else r.apply(this,arguments)}function o(t){if(t)try{if(e){var n=e.getItem(t);return e.removeItem(t),n}}catch(r){_catch(r)}}function a(t){if(t)try{if(e)return e.getItem(t)}catch(n){_catch(n)}}function s(){for(var t=[],n="",r=0,i=e.length;r<i;r++)n=e.key(r),n&&t.push(n);return t}function c(t){try{t&&isString(t)?e.removeItem(t):e.clear()}catch(n){_catch(n)}}function d(){var t=1024*1024*5-unescape(encodeURIComponent(JSON.stringify(e))).length;return t}function l(e,t){return 1===arguments.length?a(e):void r(e,t)}function u(t){return e.hasOwnProperty(t)}return{getVal:a,setVal:i,leaveSpace:d,remove:c,keys:s,val:l,contains:u,popVal:o}}();function getDPI(){if(getDPI.DPI)return getDPI.DPI;var e,t;if(void 0!=window.screen.deviceXDPI)e=window.screen.deviceXDPI,t=window.screen.deviceYDPI;else{var n=document.createElement("div");n.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(n),e=parseInt(n.offsetWidth),t=parseInt(n.offsetHeight),n.parentNode.removeChild(n)}return getDPI.DPI=(e>t?t:e)/96}function getClosure(e){var t=arguments;return function(){for(var n=toArray(t),r=0;r<arguments.length;r++)n.push(arguments[r]);return e.apply(this,n)}}function toArray(e){return slice.call(e)}function getKeyArray(e){var t=[];return forEach(e,function(e,n){t.push(n)},this,!1),t}function _resetDescriptor(e,t){var n;for(var r in e){if(n=Object.getOwnPropertyDescriptor(e,r),!n)return;n.configurable===!1&&throwError("重置"+name+"失败：configurable==false"),n.writable===!1&&throwError("重置"+name+"失败：writable==false"),n.hasOwnProperty("value")?t.value=n.value:(n.hasOwnProperty("get")&&(t.get=n.get),n.hasOwnProperty("set")&&(t.set=n.set)),Object.defineProperty(e,r,t)}}function lockObject(e){var t={writable:!1,enumerable:!0,configurable:!1};_resetDescriptor(e,t)}function lockObject2(e){var t={writable:!0,enumerable:!1,configurable:!1};_resetDescriptor(e,t)}function objectChange(e,t){for(var n in e)onPropertyChange(e,n,t)}function onPropertyChange(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(r){r.configurable===!1&&throwError("绑定失败：原属性"+t+"替换失败"),r.writable===!1&&throwError("绑定失败：原属性"+t+"不可写"),delete e[t];var i,o={enumerable:r.enumerable,configurable:!0};if(r.hasOwnProperty("value")){var a=r.value;isFunction(a)?(o.get=function(){return a.call(this,i)},o.set=function(r){i=r,a.call(this,i),n.call(e,t)}):(o.get=function(){return a},o.set=function(r){a=r,n.call(e,t)})}else{if(r.hasOwnProperty("get")){var s=r.get;o.get=function(){return s.call(this)}}if(r.hasOwnProperty("set")){var c=r.set;o.set=function(r){c.call(this,r),n.call(e,t)}}}Object.defineProperty(e,t,o),r=null}}function objectPropertyChange(e,t,n){e.hasOwnProperty(t)&&onPropertyChange(e,t,n)}function removeItem(e,t){var n=e.indexOf(t);n!=-1&&e.splice(n,1)}function addBindInfo(e,t,n,r,i){var o=e.__bind__;o||(o=[],e.__bind__=o),o.push({name:t,target:n,targetName:r,event:i})}function removeBind(e,t,n){if(!e.__bind__)return!1;var r=e.__bind__;for(var i in r)if(r[i].name===t&&r[i].targetName===n)return 1==r.length?(r.length=0,delete e.__bind__):r.splice(i,1),!0;return!1}function bindPropertyByName(e,t,n,r){var i=function(e){if(!i.isBinding){i.isBinding=!0;for(var t=0;t<i.list.length;t++){var n=i.list[t];if(n!==this){var r=n.__bind__;for(var o in r)r[o].targetName===e&&n[r[o].name]!=this[e]&&(n[r[o].name]=this[e])}}i.isBinding=!1}};return i.isBinding=!1,i.removeObject=function(e){removeItem(i.list,e)},i.list=[e,n],addBindInfo(e,t,n,r,i),addBindInfo(n,r,e,t,i),i}function camelCase(e){return e.replace(camelCaseRE,function(e,t){return t.toUpperCase()})}function bindElementProperty(e,t,n,r){bindProperty(e,t,n,r,2)}var bindProperty;!function(){function e(e,t,n){if(e.__bind__){var r=e.__bind__;for(var i in r)if(r[i].name===t&&r[i].targetName===n)return r[i]}}bindProperty=function(t,n,r,i,o){var a=e(t,n,i),s=e(r,i,n);if(a&&s&&a.event!==s.event)return void throwError("不能混合不同的绑定链");if(a){var c=a.event;addBindInfo(r,i,t,n,c),c.list.push(r),2!=o&&(onPropertyChange(r,i,c),c.isBinding=!0,r[i]=t[n],c.isBinding=!1)}else if(s){var c=s.event;addBindInfo(t,n,r,i,c),c.list.push(t),onPropertyChange(t,n,c),c.isBinding=!0,t[n]=r[i],c.isBinding=!1}else{var c=bindPropertyByName(t,n,r,i);onPropertyChange(t,n,c),2!=o&&(onPropertyChange(r,i,c),c.isBinding=!0,r[i]=t[n],c.isBinding=!1)}}}();function parseBool(e){return"string"==typeof e&&(e=e.replace(/[\s]/g,"").toLowerCase(),!e||"false"!=e&&"0"!=e&&"null"!=e&&"undefined"!=e?e&&(e=!0):e=!1),!!e}function addStyle(e,t){if(t){var n=e.getAttribute("style");n&&(t=addStyleRE.test(n)?n+t:n+";"+t),e.setAttribute("style",t)}}function addClassName(e,t){if(t){var n=e.getAttribute("class");n&&(t=addClassNameRE.test(n)?n+t:n+" "+t),e.setAttribute("class",t)}}function addClass(e){addClasses(e,slice.call(arguments,1))}function addClasses(e,t){var n;if(e){n=e.classList;for(var r=0;r<t.length;r++)n.contains(t[r])||n.add(t[r])}}function removeClass(e,t){var n;e&&(n=e.classList,n.contains(t)&&n.remove(t))}function removeClasses(e,t){var n;if(e){n=e.classList;for(var r=0;r<t.length;r++)n.contains(t[r])&&n.remove(t[r])}}function replaceClass(e,t,n){e&&t&&n&&(e.className=e.className.replace(t,n))}function toggleClass(e,t,n,r){e&&t&&(e.className.indexOf(t)>=0?(e.className=e.className.replace(t,""),r&&r()):(e.className+=" "+t,n&&n()))}function _rpl(e,t,n){return t.toLowerCase()+"-"+n.toLowerCase()}function dasherize(e){return e.replace(/::/g,"/").replace(/([a-z\d])([A-Z])/g,_rpl).replace(/([A-Z]+)([A-Z][a-z])/g,_rpl)}function scriptToJSON(e){return JSON.parse(e.replace(/([a-zA-Z\d]+?)(?=:)/g,function(e){return'"'+e.substring(0,e.length)+'"'}))}var _toString={}.toString;function isRegExp(e){return"[object RegExp]"===_toString.call(e)}function isDate(e){return"[object Date]"===_toString.call(e)}function isNumber(e){return"[object Number]"===_toString.call(e)}function isString(e){return"[object String]"===_toString.call(e)}function isFunction(e){return"[object Function]"===_toString.call(e)}function isObject(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function isFinite(e){return isFinite(e)&&!isNaN(parseFloat(e))}function isUndefined(e){return e===void 0}var isArray=Array.isArray||function(e){return"[object Array]"===_toString.call(e)};function isPersent(e){return persentRE.test(e)}function persentToFloat(e){var t=persentRE.exec(e);return t?t[1]/100:void 0}function isArrayLike(e){return"number"==typeof e.length}function compact(e){return e.filter(function(e){return void 0!==e&&null!==e})}function flatten(e){return e.length>0?[].concat.apply([],e):e}function camelize(e){return e.replace(camelizeRE,function(e,t){return t?t.toUpperCase():""})}function decamelize(e){return e.replace(deCamelizeRE,function(e){return"-"+e.toLowerCase()})}function trim(e){return e.replace(/^\s*|\s*$/g,"")}function HTMLTrim(e){return e.replace(/^[\s\r\n]*|[\s\r\n]*$/g,"")}function trimLine(e){return e.replace(/^\s*/g,"").replace(/\s*$/g,"").replace(/\s*[\r\n]\s*/g,"")}function isRepeat(e){var t={};for(var n in e){if(e[n]in t)return!0;t[e[n]]=void 0}return!1}function moveArray(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function getRect(e){for(var t={left:0,top:0,right:0,bottom:0},n=document.body,r=e;r&&r!=n;)t.left+=r.offsetLeft,t.top+=r.offsetTop,r=r.parentNode;return t.right=t.left+e.offsetWidth,t.bottom=t.top+e.offsetHeight,t}function getOffsetPos(e,t){for(var n={x:0,y:0};e&&e!=t;)n.x+=e.offsetLeft,n.y+=e.offsetTop,e=e.parentNode;return n}function each(e,t){var n,r;if(isArrayLike(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e}function map(e,t){var n,r,i,o=[];if(isArrayLike(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&o.push(n);else for(i in e)n=t(e[i],i),null!=n&&o.push(n);return flatten(o)}var encodeHTML=function(){var e=/&lt;|&gt;/g,t=function(e){switch(e){case"&lt;":return"<";break;case"&gt;":return">"}return e};return function(n){return n.replace(e,t)}}(),decodeHTML=function(){var e=/<|>/g,t=function(e){switch(e){case"<":return"&lt;";break;case">":return"&gt;"}return e};return function(n){return n.replace(e,t)}}();function idle(e){var t=0;return function(n){t>0&&clearTimeout(t),n||(n=0),t=setTimeout(function(){t=0,biz.trycall(e)},n)}}function insertNode(e,t){var n=e.parentNode;return null==n?0:(n.insertBefore2(t,e),0)}function repeatCall(e,t,n){var r=0,i=setInterval(function(){r++,t!=-1&&r>=t&&clearInterval(i),n()},e)}function takeChildNodes(e){for(var t=e.childNodes,n=t.length,r=[],i=n;i>0;i--)r.push(e.removeChild(t[0]));return r}function toPercent(e){return(Math.round(1e4*e)/100).toFixed(0)+"%"}function takeOutChildNodes(e){var t=e.parentNode;if(null==t)return 0;for(var n=e.childNodes,r=0,i=n.length-1;i>-1;i--)t.insertBefore2(e.removeChild(n[0]),e);return t.removeChild(e),r}function elementDOMdistance(e,t,n){for(var r=0,i=0;1&&t!==e;)r++,t=t.parentNode;for(;1&&n!==e;)i++,n=n.parentNode;return i-r}function elementInElement(e,t,n){for(n||(n=document.body);1&&e!==n;){if(e===t)return!0;e=e.parentNode}return!1}function takeAttr(e,t,n){if(e.hasAttribute(t)){var r=e.getAttribute(t);return e.removeAttribute(t),r}return n}function getAttr(e,t,n){return e.hasAttribute(t)?e.getAttribute(t):n}function extendConst(e,t){for(var n in t)Object.defineProperty(e,n,{value:t[n],writable:!1,enumerable:!0,configurable:!1});return e}function extend(e,t){for(var n in t)e[n]=t[n];return e}function merge(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}var _includeTask=null;function setIncludeTaskDone(e,t){_includeTask=e.parent,null!=_includeTask&&(_includeTask.child=null),e.child=null,isFunction(t)&&t()}function IncludeTask(e,t,n){if(this.files=[],this.child=null,this.parent=e,null!=e&&(this.parent.child=this),this.isallload=!1,this.onallload=function(){this.isallload=!0,null==this.child?setIncludeTaskDone(this,n):this.child.isallload&&setIncludeTaskDone(this,n),null!=this.parent&&this.parent.onchildallload()},this.onchildallload=function(){this.isallload&&setIncludeTaskDone(this,n)},this.count=0,isArray(t))for(i in t){var r=t[i];!isString(r)||r in $t.jsScript||(this.files.push(r),$t.jsScript[r]=$node("script"))}else t&&(r=t,!isString(r)||r in $t.jsScript||(this.files.push(r),$t.jsScript[r]=$node("script")))}function includeJSFiles(e,t){_includeTask=new IncludeTask(_includeTask,e,t),includeJSFile(_includeTask)}function includeJSFile(e){if(e.files.length>0){var t=e.files.shift(),n=$t.jsScript[t];n.src=t,e.count++,n.onload=function(){e.count--,includeJSFile(e)},document.head.appendChild(n)}else 0==e.count&&e.onallload()}function newObject(e,t){var n="var "+e+"=function(){};";return isObject(t)&&(n+=e+".prototype=proto;"),n+="return new "+e+"();",Function("proto",n)(t)}function newArrayObject(e,t){return t?newObject(e,merge(t,newArrayObject.prototype)):newObject(e,newArrayObject.prototype)}newArrayObject.prototype={clear:function(){for(var e=this.length,t=0;t<e;t++)this.pop()},concat:arrayPrototype.concat,every:arrayPrototype.every,filter:arrayPrototype.filter,forEach:arrayPrototype.forEach,indexOf:arrayPrototype.indexOf,join:arrayPrototype.join,lastIndexOf:arrayPrototype.lastIndexOf,map:arrayPrototype.map,pop:arrayPrototype.pop,push:arrayPrototype.push,reduce:arrayPrototype.reduce,reduceRight:arrayPrototype.reduceRight,reverse:arrayPrototype.reverse,shift:arrayPrototype.shift,slice:arrayPrototype.slice,some:arrayPrototype.some,sort:arrayPrototype.sort,splice:arrayPrototype.splice,toLocaleString:arrayPrototype.toLocaleString,toString:arrayPrototype.toString,unshift:arrayPrototype.unshift};function newHashObject(e){return newObject(e,newHashObject.prototype)}newHashObject.prototype={clean:function(){for(var e in this)delete this[e]}};function Store(){}Store.prototype=extend({take:function(e){if(this.hasOwnProperty(e)){var t=this[e];return delete this[e],t.childNodes.length>1?t.childNodes:t.childNodes[0]}},takeElem:function(e){if(this.hasOwnProperty(e)){var t=this[e];return delete this[e],t.children.length>1?t.children:t.children[0]}}},newHashObject.prototype);function XHR(){function e(e,t,n,r,i,o){var a=new XMLHttpRequest;a.open(e,t,!!r),a.onreadystatechange=function(){4==a.readyState&&(200!==a.status&&0!==a.status||a.responseText.length>0&&i(a.responseText))},"POST"==e&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onerror=o,a.send(n)}var t={get:function(t,n,r,i){e("GET",t,void 0,n,r,i)},post:function(t,n,r,i,o){e("POST",t,n,r,i,o)}};return t}function treeEach(e,t,n,r){if(isArrayLike(e)){for(var i,o,a,s=e,c=r>=0?r:0,d=[],l={next:1};!0;)if(c<s.length){if(i=s[c],l.next=1,a=n(i,l),void 0==a)a=0;else if(a==treeEach.c_stopEach)break;o=s[c],!o||o==i||treeEach.c_noRepeat&a||(a|=treeEach.c_repeat),o&&o[t]&&o[t].length>0&&!(a&treeEach.c_noIn)&&t?(d.push(s),d.push(c+(a&treeEach.c_repeat?0:l.next)),c=0,s=o[t]):c+=a&treeEach.c_repeat?0:l.next}else{if(!(d.length>0))break;c=d.pop(),s=d.pop()}return{stack:d,state:a,array:s,index:c}}}treeEach.c_stopEach=1,treeEach.c_repeat=2,treeEach.c_noIn=4,treeEach.c_noRepeat=8,lockObject(treeEach);function nodesToString(e){for(var t="",n=0;n<e.length;n++)if(8===e[n].nodeType)t+="<!--"+e[n].data+"-->";else if(3===e[n].nodeType)try{t+=e[n].data}catch(r){}else 1===e[n].nodeType&&(t+=e[n].outerHTML);return t}function replaceNodeByNodes(e,t){insertNodesBefore(e,t),removeNode(e)}function replaceNodeByNode(e,t){var n=e.parentNode;null!=n&&(insertNode(e,t),n.removeChild(e))}function insertNodesBefore(e,t){var n=e.parentNode;if(null!=n)for(var r=0;r<t.length;r++)n.insertBefore2(t[r],e)}function insertNodeBefore(e,t){var n=e.parentNode;null!=n&&n.insertBefore2(t,e)}function appendNodes(e,t){for(var n=slice.call(e),r=0;r<n.length;r++)t.appendChild(n[r])}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function appendQueryString(e,t){return window.location.search?window.location.href+"&"+e+"="+t:window.location.href+"?"+e+"="+t}function replaceNodeByString(e,t){var n=e.parentNode;null!=n&&(e.insertAdjacentText("beforeBegin",t),n.removeChild(e))}function parseBreak(e,t,n,r,i){initHTML(e.childNodes,t,n,r,i),takeOutChildNodes(e)}function parseGet(e,t,n,r,i){removeNode(e);var o=getAttr(e,"name");if(o)return initHTML(e.childNodes,t,n,r,i),$t.store[o]=e,treeEach.c_noIn;var a=getAttr(e,"to-p-ref");a&&i&&(a="$"+a,i[a]&&(appendNodes(e.childNodes,i[a]),initHTML(i[a].childNodes,t,n,r,i),e.innerHTML=""))}function execOnScript(e,t,n,r,i){var o=e.parentNode;if(o){var a=e.innerHTML;if(a.length>0){var s=exec("({"+a+"})");for(var c in s)isFunction(s[c])&&o.addEventListener(c,s[c])}}}function execScript(e,t,n,r,i){"use strict";var o=e.innerHTML;if(o.length>0){var a,s=String(getAttr(e,"var",""));a=Function("outer,outerElement,props,part"+(s?",":"")+s,o);var c=[t,n,r,i];if(s.length>0){s=s.split(",");for(var d=0;d<s.length;d++){var l=$t.refs[s[d]];c.push(l?l[l.length-1]:null)}}try{a.apply(e.parentNode,c)}catch(u){_catch(u)}a=null}}function execTurtleScript(e,t,n,r,i){var o=getAttr(e,"type",null);"on"==o?execOnScript(e,t,n,r,i):execScript(e,t,n,r,i)}function execTemplateScript(e,t,n,r,i,o){return e=e.replace(/{%.+?%}/g,function(e){return execByScope(t,e.substring(2,e.length-2),null,n,r,i,o)})}function getScopeBy(e,t){return e?e:$t.uiScope.get(t)}function execByScope(e,t,n,r,i,o,a){return _execByScope.call(getScopeBy(n,e),t,e,r,i,o,a)}function execScope(e,t,n,r,i,o){execByScope(t,"$t.extend(this,{"+e+"});",null,n,r,i,o)}function parseScript(e,t,n,r,i){if(""==e.type||"on"==e.type||"text/javascript"==e.type){var o=getAttr(e,"src","");o?includeJSFiles(o):execTurtleScript(e,t,n,r,i),removeNode(e)}}function _getBindObject(e,t){"use strict";for(var n,r,i=t.length;e;){for(r=e,n=0;n<i;n++)if(r.hasOwnProperty(t[n])){if(n<i-1){r=r[t[n]];continue}return r}e=e.__parent__}if(r=window[t[0]])for(n=1;n<i;n++)if(r.hasOwnProperty(t[n])){if(n<i-1){r=r[t[n]];continue}return r}return null}function splitByOnce(e,t){var n=e.indexOf(t),r=[];return n!=-1?(r.push(e.substring(0,n)),r.push(e.substring(n+t.length,e.length))):r.push(e),r}function bindPropertyByOrder(e,t){var n=splitByOnce(t,"|");if(!(n.length<2)){var r,i,o,a,s,c,d=n[0],l=n[1];d=d.indexOf(".")!=-1?d.split("."):[d],r=d[d.length-1],i=$t.uiScope.get(e),o=_getBindObject(i,d),l=l.indexOf(".")!=-1?l.split("."):[l],a=l[l.length-1],s=$t.uiScope.get(e),c=_getBindObject(s,l),bindProperty(o,r,c,a),c[a]=o[r]}}function bindExpressionsByOrder(e,t){var n=splitByOnce(t,"|");n.length<2&&n.push("v");var r,i,o,a,s=n[0],c=$node(" ",3);return s=s.indexOf(".")!=-1?s.split("."):[s],r=s[s.length-1],i=$t.uiScope.get(e),o=_getBindObject(i,s),null===o?void throwError("不能获取绑定属性:"+n[0]):(a=function(t){try{return _execExpressionsByScope.call(i,n[1],t,e)}catch(r){_catch(r)}},a.__me__=a,$t.bindProperty(o,r,a,"__me__"),replaceNodeByNode(e,c),bindElementProperty(a,"__me__",c,"data"),void(c.data=a.__me__))}function bindNodeProperty(e,t,n){var r,i,o,a,s=splitByOnce(n,"|"),c=e,d=s[0],l=camelCase(t);if(l.indexOf(".")!=-1){l=l.split(".");for(var u=0;u<l.length-1;u++)if(c=c[l[u]],!c)return;l=l[l.length-1]}return d=d.indexOf(".")!=-1?d.split("."):[d],r=d[d.length-1],i=$t.uiScope.get(e),o=_getBindObject(i,d),null===o?void throwError("不能获取绑定属性:"+s[0]):void(2==s.length?(a=function(t){c[l]=_execExpressionsByScope(s[1],t,e)},a.__me__=a,bindProperty(o,r,a,"__me__")):(bindElementProperty(o,r,c,l),c[l]=o[r]))}function bindElementPropertyByName(e,t,n){var r,i,o=splitByOnce(n,"|"),a=o[0];if(a)return r=$t.uiScope.get(e),a.indexOf(".")!=-1?(a=a.split("."),obj=_getBindObject(r,a),a=a[a.length-1]):obj=_getBindObject(r,[a]),null===obj?void throwError("不能获取绑定属性:"+o[0]):void(2==o.length?(i=function(t){_execExpressionsByScope(o[1],t,e)},i.__me__=i,bindProperty(obj,a,i,"__me__")):(e.__bind__||(e[t]=obj[a]),bindProperty(obj,a,e,t)))}function pref(e,t,n){if(t&&n){n=n.split(",");for(var r=0;r<n.length;r++)t["$"+n[r]]=e}}function bindNodeByCondition(e,t){var n,r,i,o=splitByOnce(t,"|"),a=o[0];if(a)return n=$t.uiScope.get(e),a.indexOf(".")!=-1?(a=a.split("."),r=_getBindObject(n,a),a=a[a.length-1]):r=_getBindObject(n,[a]),null===r?void throwError("不能获取绑定属性:"+o[0]):void(2===o.length?(i=function(t){_execExpressionsByScope(o[1],t,e)},i.__me__=i,bindProperty(r,a,i,"__me__")):bindNode(e,r,a))}function bindNode(e,t,n){var r,i;switch(e.nodeName){case"SELECT":r="value",i="change";break;case"TEXTAREA":r="value",i="input";break;case"INPUT":switch(e.type){case"checkbox":r="checked",i="click";break;default:r="value",i="input"}break;case"#text":r="data";break;case"BUTTON":case"DIV":default:r="innerHTML"}e.__bind__||(e[r]=t[n]),bindElementProperty(t,n,e,r),i&&e.addEventListener(i,function(){t[n]=e[r]})}function throwError(e){try{throw new Error("turtle:\n"+e)}catch(t){_catch(t)}}function getFunctionComment(e){var t=functionCommentRE.exec(e.toString());return t[1]}function getFunctionComments(e){for(var t,n=e.toString(),r=[];null!==(t=functionCommentRE.exec(n));)r.push(t[1]);return functionCommentRE.lastIndex=0,r}var getCommentText;getCommentText=Comment.prototype.hasOwnProperty("text")?function(e){var t=e.text;return/^<!--([\s\S]*?)-->$/.test(t)?t.substring(4,t.length-3):/^<!([\s\S]*?)>$/.test(t)?t.substring(2,t.length-1):e.text.replace(/^!-?|-?&/)}:function(e){return e.data};function getCommentStringInfo(e){var t=e.match(orderRE);if(t)return{order:trim(t[0]),condition:e.substring(t[0].length,e.length)};var n=e.match(orderCaseRE);return n?{orderCase:trim(n[0]),condition:e.substring(n[0].length,e.length)}:void 0}var orderStack=newArrayObject("OrderStack");function parseCommentOrderBlock(e,t,n,r,i){var o=getNodeIndex2(e),a=!1,s=function(e){return a=!0,alert(e),treeEach.c_stopEach};return treeEach(e.parentNode.childNodes,"childNodes",function(e,o){if(8==e.nodeType){var a=getCommentStringInfo(getCommentText(e));if(a){if(a.order){var c=parseCommentOrderNoScript(a,e,t,n,r,i);return c&&(o.next=c.index-getNodeIndex2(e)+1),treeEach.c_noRepeat+treeEach.c_noIn}return"end"==a.orderCase?orderStack.length>0?(orderStack.pop().endNode=e,treeEach.c_stopEach):s("语法错误：多余的end"):treeEach.c_noIn}}},o+1)}function deepClone(e){for(var t=e.cloneNode(),n=e.childNodes,r=0;r<n.length;r++)t.appendChild(deepClone(n[r]));return t}function DropRect(elem,fnbegin,fn,fnend){this.on=function(){with(elem.addEventListener("mousedown",md),elem.addEventListener("touchstart",td),document.body)addEventListener("mouseup",mu),addEventListener("touchend",tu),addEventListener("touchcancel",tu)},this.off=function(){with(elem.removeEventListener("mousedown",md),elem.removeEventListener("touchstart",td),document.body)removeEventListener("mouseup",mu),removeEventListener("touchend",tu),removeEventListener("touchcancel",tu)};var start,offsetLeft,offsetTop;function setOffset(){for(var e=elem.valueOf(),t=0,n=0,r=document.documentElement;e!==r;)t+=e.offsetTop,n+=e.offsetLeft,e=e.parentNode;offsetLeft=n,offsetTop=t}function md(e){start=e,setOffset(),document.body.addEventListener("mousemove",mm),fnbegin(offsetLeft,offsetTop)}function td(e){start=e.changedTouches[0],setOffset(),fnbegin(offsetLeft,offsetTop),document.body.addEventListener("touchmove",tm)}function getRectByPoint(e,t,n,r){var i={};return e>n?(i.left=n,i.width=e-n):(i.left=e,i.width=n-e),t>r?(i.top=r,i.height=t-r):(i.top=t,i.height=r-t),i.screenLeft=i.left,i.screenTop=i.top,i.left-=offsetLeft,i.top-=offsetTop,i}function mm(e){start&&fn(getRectByPoint(start.x,start.y,e.clientX,e.clientY))}function tm(e){start&&fn(getRectByPoint(start.changedTouches[0].clientX,start.changedTouches[0].clientY,e.changedTouches[0].clientX,e.changedTouches[0].clientY))}function mu(e){start&&(fnend(getRectByPoint(start.x,start.y,e.clientX,e.clientY)),start=null,document.body.removeEventListener("mousemove",mm))}function tu(e){start&&(fnend(getRectByPoint(start.changedTouches[0].clientX,start.changedTouches[0].clientY,e.changedTouches[0].clientX,e.changedTouches[0].clientY)),start=null,document.body.removeEventListener("touchmove",tm))}}function dropMove(elemTarget,elemMove,arrow,noOut,fn){with(fn=getDebounce(fn),elemTarget.addEventListener("mousedown",md),elemTarget.addEventListener("touchstart",td),document.body)addEventListener("mouseup",mu),addEventListener("touchend",tu),addEventListener("touchcancel",tu);var start,startLeft,startTop;function md(e){e.stopPropagation(),startLeft=elemMove.offsetLeft,startTop=elemMove.offsetTop,start=e,document.body.addEventListener("mousemove",mm)}function td(e){e.stopPropagation(),startLeft=elemMove.offsetLeft,startTop=elemMove.offsetTop,start=e.changedTouches[0],document.body.addEventListener("touchmove",tm);
}function mmove(e){switch(arrow){case 1:setLeft(startLeft+e.x-start.x);break;case 2:setTop(startTop+e.y-start.y);break;case 3:setLeft(startLeft+e.clientX-start.x),setTop(startTop+e.clientX-start.x);break;case 4:setLeft(startLeft+e.clientY-start.y),setTop(startTop+e.clientY-start.y);break;default:setLeft(startLeft+e.x-start.x),setTop(startTop+e.y-start.y)}fn(30)}function mm(e){start&&mmove(e)}function setLeft(e){noOut&&(e<0?e=0:e+elemMove.offsetWidth>elemMove.parentNode.offsetWidth&&(e=elemMove.parentNode.offsetWidth-elemMove.offsetWidth)),elemMove.style.left=e+"px"}function setTop(e){noOut&&(e<0?e=0:e+elemMove.offsetHeight>elemMove.parentNode.scrollHeight&&(e=elemMove.parentNode.offsetHeight-elemMove.offsetHeight)),elemMove.style.top=e+"px"}function tmove(e){switch(arrow){case 1:setLeft(startLeft+e.changedTouches[0].clientX-start.changedTouches[0].clientX);break;case 2:setTop(startTop+e.changedTouches[0].clientY-start.changedTouches[0].clientY);break;case 3:setLeft(startLeft+e.changedTouches[0].clientX-start.changedTouches[0].clientX),setTop(startTop+e.changedTouches[0].clientX-start.changedTouches[0].clientX);break;case 4:setLeft(startLeft+e.changedTouches[0].clientX-start.changedTouches[0].clientY),setTop(startTop+e.changedTouches[0].clientY-start.changedTouches[0].clientY);break;default:setLeft(startLeft+e.changedTouches[0].clientX-start.changedTouches[0].clientX),setTop(startTop+e.changedTouches[0].clientY-start.changedTouches[0].clientY)}fn(30)}function tm(e){start&&tmove(e)}function mu(e){start&&(mmove(e),start=null,document.body.removeEventListener("mousemove",mm))}function tu(e){start&&(tmove(e),start=null,document.body.removeEventListener("touchmove",tm))}}function cloneBetween(e,t){for(var n=[],r=getNodeIndex2(e),i=getNodeIndex2(t),o=e.parentNode,a=r+1;a<i;a++)n.push(deepClone(o.childNodes[a]));return n}function getElementsBetween(e,t){for(var n=[],r=getNodeIndex2(e),i=getNodeIndex2(t),o=e.parentNode,a=r+1;a<i;a++)n.push(o.childNodes[a]);return n}function takeBlockBetween(e,t){var n=e.parentNode,r=n.childNodes,i=getNodeIndex2(e)+1;l2=getNodeIndex2(t);for(var o=[],a=i;a<l2;a++)o.push(n.removeChild(r[i]));return o}function removeBlockBetween(e,t){var n=e.parentNode,r=getNodeIndex2(e)+1;l2=getNodeIndex2(t);for(var i=r;i<l2;i++)n.removeChild(n.childNodes[r])}function parseComment(e,t,n,r,i){var o=getCommentStringInfo(getCommentText(e));if(o){if(!o.order)return void alert("语法错误：不恰当的"+o.orderCase);parseCommentOrder(o,e,t,n,r,i),e.order&&e.order.endNode&&e.order.run()}}function parseAsyncOrder(e,t,n,r,i,o){return addOrderToNode(t,e,n,r,i,o,function(){return{run:function(){var e=takeBlockBetween(this.node,this.endNode),t=parseInt(this.condition);NaN===t&&(t=0),removeNode(this.endNode);var a=$node("async",8);replaceNodeByNode(this.node,a),this.endNode=null,this.node=null,setTimeout(function(){var t=$node("div");replaceNodeByNode(a,t),a=null,appendNodes(e,t);var s=t.childNodes;initHTML(s,n,r,i,o),takeOutChildNodes(t),t=null,replaceCls()},t)}}})}function parseSwitchOrder(e,t,n,r,i,o){return addOrderToNode(t,e,n,r,i,o,function(){return{value:execByScope(t,e.condition,null,n,r,i,o),hit:null,needBreak:!1,endHit:null,hasDefault:!1,run:function(){var e=this,a=$t.uiScope.get(t);treeEach(t.parentNode.childNodes,"childNodes",function(t,s){if(8==t.nodeType){var c=getCommentStringInfo(getCommentText(t));if(c){if(t.order)return void(s.next=getNodeIndex2(t.order.endNode)-getNodeIndex2(t));switch(c.orderCase){case"case":case"case break":if(e.hasDefault)return error("语法错误：default后不应出现case/case break");if(e.hit)e.endHit||(e.endHit=t);else{var d=e.value==execByScope(t,c.condition,a,n,r,i,o);d&&(e.hit=t,t.order=c.orderCase)}break;case"default":if(e.hasDefault)return error("语法错误：多余的default");e.hasDefault=!0,e.hit?e.endHit||(e.endHit=t):(e.hit=t,t.order=c.orderCase)}}}},getNodeIndex2(t)+1);var s=this.node.parentNode;if(this.hit){this.endHit||(this.endHit=this.endNode),removeBlockBetween(this.node,this.hit);var c=takeBlockBetween(this.hit,this.endHit);insertNodesBefore(this.node,c),removeNode(this.hit),"case break"!==this.hit.order&&this.endHit!==this.endNode||(removeBlockBetween(this.node,this.endNode),s.removeChild(this.node),s.removeChild(this.endNode))}else removeBlockBetween(this.node,t),s.removeChild(this.node),s.removeChild(this.endNode);delete this.node.order}}})}function parseBreakOrder(e,t,n,r,i,o){var a=t.previousSibling;a||(a=t.parentNode),removeNode(t);for(var s=a.parentNode;"__BREAK__"!=a.nodeName;){for(var c=s.childNodes,d=c.length,l=getNodeIndex2(a)+1,u=l;u<d;u++)s.removeChild(c[l]);a=s,s=s.parentNode}a.source.onBreak()}function parseIfOrder(e,t,n,r,i,o){return addOrderToNode(t,e,n,r,i,o,function(){var e=$t.uiScope.get(t);return{endHit:null,hit:null,hasElse:!1,run:function(){var a=this;a.hit=parseBool(execByScope(t,this.condition,e,n,r,i,o))?this.node:null,treeEach(t.parentNode.childNodes,"childNodes",function(t,s){if(8==t.nodeType){var c=getCommentStringInfo(getCommentText(t));if(c){if(t.order)return void(s.next=getNodeIndex2(t.order.endNode)-getNodeIndex2(t));switch(c.orderCase){case"else":case"else if":if(a.hasElse)return error("语法错误：else或else if不能出现在else后");"else"==c.orderCase&&(a.hasElse=!0),a.endHit||(a.hit?a.endHit=t:"else"==c.orderCase||parseBool(execByScope(t,this.condition,e,n,r,i,o))?a.hit=t:removeNode(t))}}}},getNodeIndex2(t)+1);var s=this.node.parentNode;if(this.hit){this.endHit||(this.endHit=this.endNode);var c=takeBlockBetween(this.hit,this.endHit);insertNodesBefore(this.node,c),removeBlockBetween(this.node,this.endNode),s.removeChild(this.node),s.removeChild(this.endNode)}else removeBlockBetween(this.node,this.endNode),s.removeChild(this.node),s.removeChild(this.endNode)}}})}function addOrderToNode(e,t,n,r,i,o,a){var s;return e.order?s=e.order:(s=a(),e.order=s,s.name=t.order,s.node=e,s.endNode=null,s.condition=t.condition,orderStack.push(s),s.parseCommentOrderBlockReturnValue=parseCommentOrderBlock(e,n,r,i,o)),s.parseCommentOrderBlockReturnValue}function parseWhileOrder(e,t,n,r,i,o){return addOrderToNode(t,e,n,r,i,o,function(){return{run:function(){var e=this.node.parentNode;if(this.isBreak||!parseBool(execByScope(this.node,this.condition,null,n,r,i,o)))removeBlockBetween(this.node,this.endNode),e.removeChild(this.node),e.removeChild(this.endNode);else{var t=cloneBetween(this.node,this.endNode);this.node.parentNode.insertBefore2(createBreakElement(t,this),this.node)}},onBreak:function(){this.isBreak=!0},isBreak:!1}})}function parseForOrder(e,t,n,r,i,o){return addOrderToNode(t,e,n,r,i,o,function(){var a;return a=parseForOrderRE.test(e.condition)?function(){var a,s=e.condition.split(" in "),c=0,d=[];return function(){if(!a){if(a=execByScope(t,s[1],null,n,r,i,o),!a)return{result:!1,params:null};for(var e in a)d.push(e);if(0==d.length)return{result:!1,params:null}}return c<d.length?(execByScope(t,s[0]+"='"+d[c]+"';",null,n,r,i,o),c++,{result:!0,params:null}):{result:!1,params:null}}}():parseForOrderRE2.test(e.condition)?function(){var a=!0,s=e.condition.split(";");return 2==s.length?function(){return{result:!1,params:null}}:function(){return a?(a=!1,execByScope(t,s[0],null,n,r,i,o)):execByScope(t,s[2],null,n,r,i,o),{result:execByScope(t,s[1],null,n,r,i,o),params:null}}}():function(){return{result:!1,params:null}},{check:a,run:function(){var e=this.node.parentNode,t=this.check();if(this.isBreak||!t.result)removeBlockBetween(this.node,this.endNode),e.removeChild(this.node),e.removeChild(this.endNode);else{var n=cloneBetween(this.node,this.endNode);this.node.parentNode.insertBefore2(createBreakElement(n,this),this.node)}},onBreak:function(){this.isBreak=!0},isBreak:!1}})}function createBreakElement(e,t){for(var n=$node("__break__"),r=0;r<e.length;r++)n.appendChild(e[r]);return n.source=t,n}function parseCommentOrderNoScript(e,t,n,r,i,o){switch(e.order){case"while":return parseWhileOrder(e,t,n,r,i,o);break;case"if":return parseIfOrder(e,t,n,r,i,o);break;case"for":return parseForOrder(e,t,n,r,i,o);break;case"switch":return parseSwitchOrder(e,t,n,r,i,o);break;case"async":return parseAsyncOrder(e,t,n,r,i,o)}}function parseScopeOrder(e,t,n,r,i,o){var a=splitByOnce(e.condition,"|");2==a.length?($t.uiScope.create(t,a[0]),execScope(a[1],t,n,r,i,o)):$t.uiScope.create(t,a[0]),removeNode(t)}function parseCommentOrder(e,t,n,r,i,o){switch(e.order){case"scope":parseScopeOrder(e,t,n,r,i,o);break;case"var":execScope(e.condition,t,n,r,i,o),removeNode(t);break;case"bind":bindPropertyByOrder(t,e.condition);break;case"-":bindExpressionsByOrder(t,e.condition);break;case"!":execByScope(t,e.condition,null,n,r,i,o),removeNode(t);break;case"=":var a=execByScope(t,e.condition,null,n,r,i,o);isObject(a)&&a.nodeType?replaceNodeByNode(t,a):replaceNodeByNode(t,$node(a,3));break;case"content":replaceNodeByNodes(t,n);break;case"elements":replaceNodeByNodes(t,r);break;case"while":return parseWhileOrder(e,t,n,r,i,o);break;case"if":return parseIfOrder(e,t,n,r,i,o);break;case"break":return parseBreakOrder(e,t,n,r,i,o);break;case"for":return parseForOrder(e,t,n,r,i,o);break;case"switch":return parseSwitchOrder(e,t,n,r,i,o);break;case"async":return parseAsyncOrder(e,t,n,r,i,o)}}function parseLazy(e,t,n,r,i){e.removeAttribute("lazy"),initHTML(e.childNodes,t,n,r,i)}function parseAsync(e,t,n,r,i){var o=parseInt(execByScope(e,e.getAttribute("async")),null,t,n,r,i);e.removeAttribute("async");var a=$node("async",8);replaceNodeByNode(e,a),NaN===o&&(o=0),setTimeout(function(){replaceNodeByNode(a,e),a=null,initHTML([e],t,n,r,i),replaceCls()},o)}var elementParser={GET:parseGet,SET:parseSet,__BREAK__:parseBreak,SCRIPT:parseScript},attributeParser={ref:function(e,t,n,r,i){var o=e.getAttribute("ref");e.removeAttribute("ref"),$t.refs.push(o.split(","),e)},":":function(e,t,n,r,i){execNodeQuestion(e,t,n,r,i),setQuestionAtrr(e,t,n,r,i)},"p-ref":function(e,t,n,r,i){pref(e,i,takeAttr(e,"p-ref"))},bind:function(e,t,n,r,i){bindNodeByCondition(e,takeAttr(e,"bind"))},remove:function(e,t,n,r,i){bindRemove(e,takeAttr(e,"remove"),t,n,r,i)},add:function(e,t,n,r,i){bindAdd(e,takeAttr(e,"add"),t,n,r,i)},show:function(e,t,n,r,i){bindShowHide(e,takeAttr(e,"show"),!0,t,n,r,i)},hide:function(e,t,n,r,i){bindShowHide(e,takeAttr(e,"hide"),!1,t,n,r,i)},cls:function(e,t,n,r,i){$t.clsNode.push(e)},"p-main":function(e,t,n,r,i){i&&!i.partMain&&(i.partMain=e)}};function initHTML(e,t,n,r,i){treeEach(e,"childNodes",function(e,o){if(8===e.nodeType){try{parseComment(e,t,n,r,i)}catch(a){_catch(a)}return treeEach.c_noIn}if(1===e.nodeType){if(e.hasAttribute("async"))return parseAsync(e,t,n,r,i),treeEach.c_repeat;if(e.hasAttribute("lazy"))return parseLazy(e,t,n,r,i),treeEach.c_noIn|treeEach.c_repeat;var s=getUIInfo(e);if(s)return parseUI(e,s,o,i),treeEach.c_noIn|treeEach.c_noRepeat;if(elementParser.hasOwnProperty(e.nodeName))return elementParser[e.nodeName](e,t,n,r,i);for(var c=slice.call(e.attributes),d=0;d<c.length;d++)attributeParser.hasOwnProperty(c[d].name)&&attributeParser[c[d].name](e,t,n,r,i)}})}function defineClasses(e){$t.styleClasses.push(getAttr(e,"class"),trimLine(getTemplate(e))),removeNode(e)}function parseSet(e,t,n,r,i){if(e.hasAttribute("link")){var o=takeAttr(e,"link");$t.store.hasOwnProperty(o)&&1==e.children.length?(appendNodes($t.store[o].childNodes,e.children[0]),takeOutChildNodes(e)):removeNode(e)}else{var a;if(e.children.length>0)a=e.children;else{if(!e.parentNode)return;a=[e.parentNode]}var s=!e.hasAttribute("append");e.removeAttribute("append");for(var c=e.attributes,d=0;d<a.length;d++)if(s)for(var l=0;l<c.length;l++)a[d].setAttribute(c[l].name,c[l].value);else for(var l=0;l<c.length;l++){var u=c[l].value;switch(c[l].name){case"class":var h=a[d].getAttribute(c[l].name);h&&(u+=(/ $/.test(u)?"":" ")+h);break;case"style":var h=a[d].getAttribute(c[l].name);h&&(u+=(/; *$/.test(u)?"":";")+h)}a[d].setAttribute(c[l].name,u)}takeOutChildNodes(e)}return treeEach.c_noIn}function setNodeProperty(e,t,n,r,i,o,a){var s=execByScope(e,n,null,r,i,o,a),c=camelCase(t.substr(0,t.length-1));if(c.indexOf(".")!=-1){var d=e;c=c.split(".");for(var l=0;l<c.length-1;l++)if(d=d[c[l]],!d)return;c=c[c.length-1],d[c]=s}else e.setAttribute(c,s)}function getObjectValue(e,t){for(var n in t){if(!(t[n]in e))return null;e=e[t[n]]}return e}function bindFunction(e,t,n){var r,i=t.split(".");i.length>0?(r=i.pop(),e=getObjectValue(e,i)):r=t,n.__me__=n,bindProperty(e,r,n,"__me__")}function bindNodeFunction(e,t,n){var r,i,o;return t=t.indexOf(".")!=-1?t.split("."):[t],r=t[t.length-1],i=$t.uiScope.get(e),o=_getBindObject(i,t),n.__me__=n,bindProperty(o,r,n,"__me__"),{object:o,name:r,targetObject:n,targetName:"__me__"}}function execValueByScope(e,t,n,r,i,o,a,s){return _execValueByScope.call(getScopeBy(r,e),t,n,e,i,o,a,s)}function bindEval(e,t,n,r,i,o,a){var s,c=t.match(operatorRE)[0],d=splitByOnce(t,c);if(!(d.length<2)){switch(c){case"|":s=d[1];break;case"=":c="==";default:s="v"+c+d[1]}return bindNodeFunction(e,d[0],function(t){a.call(this,execValueByScope(e,s,t,this,n,r,i,o))})}}function bindShowHide(e,t,n,r,i,o,a){bindEval(e,t,r,i,o,a,function(t){t?n?removeClass(e,"uhide"):addClass(e,"uhide"):n?addClass(e,"uhide"):removeClass(e,"uhide")})}function bindRemove(e,t,n,r,i,o){var a=bindEval(e,t,n,r,i,o,function(t){t&&(removeBind(this,a.targetName,a.name),removeNode(e))})}function bindAdd(e,t,n,r,i,o){var a=$node("",8);replaceNodeByNode(e,a);var s=bindEval(e,t,n,r,i,o,function(t){t&&(removeBind(this,s.targetName,s.name),replaceNodeByNode(a,e))})}function execNodeQuestion(e,t,n,r,i){var o=takeAttr(e,":");o.length>0&&execByScope(e,o,null,t,n,r,i)}function setQuestionAtrr(e,t,n,r,i){for(var o=slice.call(e.attributes),a=0;a<o.length;a++){var s=o[a].name;s.length>1&&(":"===s[s.length-1]?setNodeProperty(e,s,takeAttr(e,s),t,n,r,i):":"===s[0]&&bindNodeProperty(e,s.substring(1,s.length),takeAttr(e,s)))}}function UIParam(e,t,n,r,i,o){this.name=e,this.hasDefault=t,this.defaultValue=i,this.limitValue=o,this.filter=n,this.filterParam=r}function UITemplate(e,t,n,r,i){var o=this;if(o.name=e,o.sortPath=t,o.path=n,o.partName=o.name.replace(/[\.]/g,"_"),(o.parts=[]).last=last,isObject(r))o.params=isArray(r.params)?r.params:[],o.datas=isArray(r.datas)?r.datas:[],isObject(r["extends"])&&(o["extends"]=r["extends"]),o.isJSDefine=!0,o.service=isObject(r.service)?r.service instanceof Service?r.service:new Service(r.service):new Service;else{o.params=[],o.datas=[],o.isJSDefine=!1,o.service=new Service,i&&(o["extends"]=i);var a=0,s=0;r.replace(memberRE,function(e,t,n,r,i,c,d,l,u,h,f,p,m,g){var v;return"!"===n?(n!==c&&(r=d,d=""),v=!0):v=!1,p&&(p=p.substring(1,p.length-1)),s++,o.params.push(new UIParam(t,v,f,p,r,d)),o.datas.push(g.substring(a,m)),a=m+e.length,""}),o.datas.push(r.substring(a,r.length))}}UITemplate.prototype={renderIn:function(e,t,n,r,i,o,a){var s;return isArray(t)||(t=[]),isArray(n)||(n=[]),s=$node("ui:render"),e&&e.appendChild(s),this.render(s,e,t,n,r,i,o,a)},renderBefore:function(e,t,n,r,i,o,a){var s;return isArray(t)||(t=[]),isArray(n)||(n=[]),s=$node("ui:render"),e&&e.parentNode&&e.parentNode.insertBefore2(s,e),this.render(s,e,t,n,r,i,o,a)},render:function(e,t,n,r,i,o,a,s){var c,d,l,u,o;if(isObject(i)||(i={}),e){setQuestionAtrr(e,n,r,o?o.props:i,o),d=e.attributes,l=d.length;for(var h=0;h<l;h++){var f=d[0].name;i.hasOwnProperty(f)||(i[f]=d[0].value),e.removeAttributeNode(d[0])}}else e=$node("ui:render");return u=this.joinDatasByProps(i),void 0!==u?(s&&(c=getExtends(s,this.sortPath)),c||(c=this["extends"]),c instanceof UITemplate&&(c=c.beExtends(e,t,n,r,i,o)),o=newPart(this,e,c,execTemplateScript(u,t,n,r,i,o),n,r,i,o,a),this.parts.push(o),null!==e.parentNode&&(o.insertBefore(e),removeNode(e)),o):void 0},joinDatasByProps:function(e){for(var t=[],n=slice.call(this.datas),r=0;r<n.length-1;r+=2){var i,o=this.params[r/2];e.hasOwnProperty(o.name)?i=o.limitValue?o.limitValue:e[o.name]:o.hasDefault?i=o.defaultValue:(t.push(this.name+"不可缺少"+o.name+"参数"),i=void 0),o.filter&&paramFilter.hasOwnProperty(o.filter)&&(i=paramFilter[o.filter](i,o.filterParam)),n.splice(r+1,0,i)}return t.length>0?(2==$t.config.debugMode&&alert(t.join("\r\n")),log(t.join("\r\n")),void bp()):n.join("")},beExtends:function(e,t,n,r,i,o){if(this["extends"]instanceof UITemplate)var a=this["extends"].beExtends(e,t,n,r,i,o);var s;return s=this.joinDatasByProps(i),newExtendsPart(this,e,a,execTemplateScript(s,t,n,r,i,o),n,r,i,o)},toDefineString:function(){var e='$t.ui.define("'+this.name+'","'+this.sortPath+'","'+this.path+'",{datas:';e+=JSON.stringify(this.datas).replace(/<\/script>/g,'</scr"+"ipt>'),e+=",params:[";for(var t=[],n=this.params,r=0;r<n.length;r++){var i=JSON.stringify(n[r].defaultValue),o=JSON.stringify(n[r].limitValue);o=void 0===o?"":","+o,i=void 0===i?""!==o?",undefined":"":","+i,t.push('new $t.UIParam("'+n[r].name+'",'+n[r].hasDefault+',"'+n[r].filter+'","'+n[r].filterParam+'"'+i+o+")")}return e+=t.join(","),e+="],service:"+this.service.toDefineString(),e+="});"},parseParamsHelp:function(e){for(var t=this.params,n=0;n<t.length;n++)e.hasOwnProperty(t[n].name)?e[t[n].name]|=!t[n].hasDefault:e[t[n].name]=!t[n].hasDefault;this["extends"]&&this["extends"].parseParamsHelp(e)},getParamsHelp:function(){var e={};this.parseParamsHelp(e);var t=[];for(var n in e)t.push({name:n,necessary:e[n]});return t}};function newExtendsPart(e,t,n,r,i,o,a,s){if(n)var c=newObject(e.partName,n);else var c=newObject(e.partName,newPart.prototype);var d=$DOM(r);c.template=e,c["super"]=n,c.isExtend=!0;var l=d.childNodes;c.$=new Service(e.service),initHTML(l,i,o,a,c),c.store=[];for(var u=l.length;u>0;u--)c.store.push(d.removeChild(l[0]));return c.to=function(e){var t=e.$.__proto__;c.$.__proto__=t,e.$.__proto__=c.$,n&&n.to(e),push.apply(e.store,c.store)},c}function newPart(e,t,n,r,i,o,a,s,c){if(n)var d=newObject(e.partName,n);else var d=newObject(e.partName,newPart.prototype);c&&$t.parts.push(c,d);var l=e.name,u=$DOM(r),h=d.begin=$node(l,8),f=d.end=$node("/"+l,8);f.part=h.part=d,h.sign=1,f.sign=0,d.props=a,d.template=e,d.onInsert=null,d["super"]=n,d.isExtend=!1;for(var p=d;p["super"];)p=p["super"];d.basePart=p?p:d,d.basePart.isInsert=!1,d.$=new Service(e.service),d.store=[];var m=u.childNodes;initHTML(m,i,o,a,d),n&&n.to(d),d.store.push.apply(d.store,m);for(var g=m.length;g>0;g--)u.removeChild(m[0]);return d.store.unshift(h),d.store.push(f),d.emitInit(d),d}newPart.prototype={toString:function(){return this.template.partName+":"+JSON.stringify(this.props)},treeDiagram:function(e){void 0===e&&(e=0);for(var t="\r\n"+new Array(e+1).join(" ")+this.toString(),n=this.child,r=0;r<n.length;r++)t+=n[r].treeDiagram(e+8);return t},get elementLength(){return this.isInsert?this.store.length:1},get elements(){if(this.isExtend)return[];if(this.isInsert)try{for(var e=[],t=this.begin.nextSibling,n=this.end;t!==n;){e.push(t);var t=t.nextSibling}return e}catch(r){return _catch(r),[]}return isArray(this.store)?this.store.slice().splice(1,this.store.length-2):[]},get child(){return getParts(this.elements)},getParentPart:function(e){for(;1;){if(null!==e.previousSibling)e=e.previousSibling;else{if(null===e.parentNode)return null;e=e.parentNode}if(8===e.nodeType&&e.part){if(0!==e.sign)return e.part;e=e.part.begin}}},get parent(){return this.getParentPart(this.begin)},getRect:function(){if(this.isInsert){for(var e,t,n=[],r=this.elements,i=document.documentElement,o=0;o<r.length;o++)if(t=r[o].valueOf(),1===t.nodeType){for(var a=0,s=0,c=t;c!==i;)s+=c.offsetTop,a+=c.offsetLeft,c=c.parentNode;n.push([a,s,t.offsetWidth,t.offsetHeight])}for(var d={left:2147483647,top:2147483647,width:0,height:0,right:0,bottom:0},o=0;o<n.length;o++){e=n[o],e[0]<d.left&&(d.left=e[0]),e[1]<d.top&&(d.top=e[1]);var l=e[0]+e[2],u=e[1]+e[3];l>d.right&&(d.right=l),u>d.bottom&&(d.bottom=u)}return d.width=d.right-d.left,d.height=d.bottom-d.top,d}return{left:0,top:0,width:0,height:0,right:0,bottom:0}},emitResize:function(){try{if(!this.isInsert)return;if(this.onresize&&this.onresize())return;for(var e=this.child,t=0;t<e.length;t++)e[t].emitResize()}catch(n){_catch(n)}},onSetSize:function(e){if(this.partMain){var t=this.partMain.style;t.left=e.left+"px",t.top=e.top+"px",t.width=e.width+"px",t.height=e.height+"px",t.boxSizing="border-box",this.emitResize()}},setSize:function(e){return this.onSetSize?this.onSetSize(e):void(this["super"]&&this["super"].setSize(e))},get innerHTML(){return nodesToString(this.elements)},get elemParent(){return this.begin.parentNode},insertTo:function(e){if(this.isInsert){var t=this.elements;t.unshift(this.begin),t.push(this.end);for(var n=this.scopeNodes,r=0;r<n.length;r++)$t.uiScope.cut(n[r].scope);appendNodes(t,e);for(var r=0;r<n.length;r++)$t.uiScope.link(n[r].scope,e);isFunction(this.onInsert)&&this.onInsert(e)}else{appendNodes(this.store,e);for(var n=this.scopeNodes,r=0;r<n.length;r++)$t.uiScope.link(n[r].scope,e);isFunction(this.onInsert)&&this.onInsert(e),this.isInsert=!0,isFunction(this.oninsert)&&this.oninsert()}},insertBefore:function(e){if(this.isInsert){var t=this.elements;t.unshift(this.begin),t.push(this.end);for(var n=this.scopeNodes,r=0;r<n.length;r++)$t.uiScope.cut(n[r].scope);insertNodesBefore(e,t);for(var r=0;r<n.length;r++)$t.uiScope.link(n[r].scope,e);isFunction(this.onInsert)&&this.onInsert(e)}else{insertNodesBefore(e,this.store);for(var n=this.scopeNodes,r=0;r<n.length;r++)$t.uiScope.link(n[r].scope,e);isFunction(this.onInsert)&&this.onInsert(e),this.basePart.isInsert=!0,isFunction(this.oninsert)&&this.oninsert()}},getSuper:function(e){return this["super"]?this["super"].template.name===e?this["super"]:this["super"].getSuper(e):void 0},emitInit:function(e){this["super"]&&this["super"].emitInit(e),this.hasOwnProperty("onInit")&&isFunction(this.onInit)&&this.onInit(e)},remove:function(){if(this.isInsert){var e=this.elements;e.unshift(this.begin),e.push(this.end);for(var t=this.scopeNodes,n=0;n<t.length;n++)$t.uiScope.cut(t[n].scope);var r=this.begin.parentNode;if(null!==r)for(var n=0;n<e.length;n++)r.removeChild(e[n]);this.store=e,this.basePart.isInsert=!1,isFunction(this.onremove)&&this.onremove();var r=this.parent;r&&r.emitResize()}},get scopeNodes(){var e=[];return treeEach(this.elements,"children",function(t){return t.hasOwnProperty("scope")?(e.push(t),treeEach.c_noIn):void 0}),e}};var emitResize=function(){for(var e=RootParts,t=0;t<e.length;t++)e[t].emitResize()},onResize=function(e){bindFunction($client,"onResize",getStep(function(t){e(t)}),2)};function RootParts(){var e=getParts(document.body.childNodes);return Object.defineProperty(e,"treeDiagram",{get:function(){for(var t=0,n="",r=0;r<e.length;r++)n+=e[r].treeDiagram(t+2);return n}}),e}function getParts(e){var t=[],n=null;return treeEach(e,"childNodes",function(e){return 8===e.nodeType&&e.part?void(null!==n?e.part===n&&0===e.sign&&(t.push(e.part),n=null):n=e.part):null!==n?treeEach.c_noIn:void 0}),t}function defineServiceByNode(e){var t=e.getAttribute("service");t&&(nodeName=e.getAttribute("ui"),nodeName?$t.ui.hasOwnProperty(nodeName)?$t.ui[nodeName].service.define(t,getTemplate(e)):throwError("不能定义service："+t+"到"+nodeName+"上"):$t.service.hasOwnProperty(t)?throwError("不能重复定义service："+t):$t.service.define(t,getTemplate(e))),removeNode(e)}function getExtendsByNode(e,t){var n=getAttr(e,"extends",null);return isString(n)?getExtends(n,t):void 0}function getExtends(e,t){var n;return e.indexOf(":")!==-1&&(e=e.split(":"),t=e[0]?e[0]:t,e=e[1]),isObject(importUIHTML(e,t))||throwError("找不到可继承的模板："+e),n=$t.ui[e]}function defineUIByNode(e){var t=getAttr(e,"ui"),n=getExtendsByNode(e,"ui");t&&$t.ui.define(t,"","",getTemplate(e),n),removeNode(e)}function parseUITemplate(e,t,n,r){for(var i,o,a,s=$DOM(r),c=s.children,d=0;d<c.length;d++){if(i=c[d],!isTemplate(i))return void alert("最上层必须是ui/service模板标签");i.hasAttribute("service")?(defineServiceByNode(i),d--):(a=i.getAttribute("ui"),a||(a=e),$t.ui.hasOwnProperty(a)?alert("不能重复定义ui："+a):(o=getTemplate(i),$t.ui.define(a,t,n,o,getExtendsByNode(i,t))))}}function importUIJS(e,t){if(!$t.ui.hasOwnProperty(e)){var n=baseUIPath.getPathBySortPath(t);$t.xhr.get(n+"/"+(e+".js").toLowerCase(),!1,function(e){exec(e)})}return $t.ui[e]}function getService(e){return $t.service.hasOwnProperty(e)||$t.xhr.get($t.config.baseServicePath+"/"+(e+".js").toLowerCase(),!1,function(t){$t.service.define(e,t)}),$t.service[e]}function importUIHTML(e,t){if(!$t.ui.hasOwnProperty(e)){var n=baseUIPath.getPathBySortPath(t);$t.xhr.get(n+"/"+(e+".html").toLowerCase(),!1,function(r){parseUITemplate(e,t,n,r)})}return $t.ui[e]}function parseUI(e,t,n,r){var i,o,a,s,c,d=importUIHTML(t.name,t.sortPath);if(!d)return removeNode(e),void throwError(t.name+"组件不存在！");i=takeAttr(e,"p-name"),o=takeAttr(e,"re-extends"),a=slice.call(e.childNodes),s=slice.call(e.children);for(var l=e.childNodes.length;l>0;l--)e.removeChild(e.childNodes[0]);c=d.render(e,e.parentNode,a,s,null,r,i,o),c&&(n.next=c.elementLength)}function render(e,t,n,r,i,o,a,s,c,d){var l=importUIHTML(t,n);if(l)try{return $node!==$VNode||isFunction(r)||(r=r.__vdomNode__),l[e](r,i,o,a,s,c,d)}catch(u){_catch(u)}}function getUI(e,t,n,r,i,o,a,s){return render("renderIn",e,t,null,n,r,i,o,a,s)}function renderIn(e,t,n,r,i,o,a,s,c){return render("renderIn",e,t,n,r,i,o,a,s,c)}function renderBefore(e,t,n,r,i,o,a,s,c){return render("renderBefore",e,t,n,r,i,o,a,s,c)}function replaceCls(){var e=$t.clsNode;for(i=0;i<e.length;i++){var t=e[i].getAttribute("cls");e[i].removeAttribute("cls"),$t.styleClasses[t]&&(e[i].className+=" "+$t.styleClasses[t].join(" "))}e.length=0}function compileCls(){var e="";return forEach($t.styleClasses,function(t,n){for(var r=0;r<t.length;r++)e+='$t.styleClasses.push("'+n+'",'+propertyToJS(t[r])+");\n"}),e}function parseHTML(e){var t=$DOM(e);return initHTML(t.childNodes),takeChildNodes(t.toDOM())}function parseXMP(e){return isDefine(e)?void parseDefine(e):parseHTML(getTemplate(e))}var paramFilter=newObject("ParamFilter");paramFilter.bool=function(e){return parseBool(e)},paramFilter.intmin=function(e,t){return e=parseInt(e),t=parseInt(t),(e<t||isNaN(e))&&(e=t),e},paramFilter.string=function(e){return'"'+e+'"'},paramFilter.floatmin=function(e,t){return e=parseFloat(e),t=parseFloat(t),(e<t||isNaN(e))&&(e=t),e},paramFilter["int"]=function(e){return parseInt(e)},paramFilter["float"]=function(e){return parseFloat(e)},paramFilter.pxtoem=function(e,t){return t=parseFloat(t),isNaN(t)&&(t=0),parseFloat(e)/16+t+"em"},paramFilter.color=function(e){return/^\s*((#[\dabcdefABCDEF]{3,6})|(rgba\(.*\)))\s*$/.test(e)?e:"transparent"},paramFilter.date=function(e,t){var n=new Date(e);return"Invalid Date"===n.toDateString()&&(n=new Date),dateFormat(t,n)},paramFilter.only=function(e,t){if(t.indexOf(";")===-1)return e;var n=t.split(";"),r=n[0].split(",");if(n.length>0)var i=n[1];else var i="";return r.indexOf(e)!==-1?e:i},paramFilter.udftotrue=function(e){return void 0===e?!0:e},paramFilter.anytotrue=function(e){return void 0!==e?!0:e},paramFilter.udftofalse=function(e){return void 0===e?!1:e},paramFilter.anytofalse=function(e){return void 0!==e?!1:e},paramFilter.udftonull=function(e){return void 0===e?null:e},paramFilter.anytonull=function(e){return void 0!==e?null:e},paramFilter.udftoemptystr=function(e){return void 0===e?"":e},paramFilter.anytoemptystr=function(e){return void 0!==e?"":e};var templates=newObject("Templates",{toString:function(){var e,t=[];for(var n in this)this.hasOwnProperty(n)&&(e="<"+n.toLowerCase(),this[n].hasOwnProperty("xmp")&&(e+=" xmp"),e+=">",t.push(e));return t.join("\n")},get items(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n={name:t.toLowerCase()};e.push(extend(n,this[t]))}return e},findByString:function(e){if(0!==e.length){for(var t=this.items,n=[],r=0;r<t.length;r++){var i="(<"+t[r].name;t[r].hasOwnProperty("xmp")&&(i+="[\\s\\S]*? +xmp"),i+="([\\s\\S]*?)>([\\s\\S]*?)<\\/"+t[r].name+">",i+=")",n.push(i)}var o=exec("(/"+n.join("|")+"/g)");return e.match(o)}}});templates.XMP={},templates.TEMPLATE={},templates.TITLE={getData:function(e){return e.innerText}},templates.STYLE={xmp:void 0},templates.SCRIPT={xmp:void 0},templates.TEXTAREA={xmp:void 0,getData:function(e){return e.defaultValue}};function parseDefine(e){switch(!0){case e.hasAttribute("service"):defineServiceByNode(e);break;case e.hasAttribute("ui"):defineUIByNode(e);break;case e.hasAttribute("class"):defineClasses(e)}}function isDefine(e){switch(!0){case e.hasAttribute("service"):case e.hasAttribute("ui"):case e.hasAttribute("class"):return!0}return!1}function isTemplate(e){var t=e.nodeName;return templates.hasOwnProperty(t)?templates[t].hasOwnProperty("type")?"xmp"===getAttr(e,"type"):!0:!1}function getTemplate(e){var t=e.nodeName;return templates.hasOwnProperty(t)?templates[t].hasOwnProperty("getData")?templates[t].getData(e):e.innerHTML:void 0}function findTemplates(e){var t=[];return treeEach(e,"children",function(e){isTemplate(e)&&t.push(e)}),t}var baseUIPath;!function(){var e={};baseUIPath=newArrayObject("BaseUIPath",{push:function(t){if(isString(t))this.parseUIPath(t);else if(isArray(t)){this.clear(),e={};for(var n=0;n<t.length;n++)isString(t[n])&&this.parseUIPath(t[n])}},parseUIPath:function(t){try{var n=exec("("+t+")");isObject(n)&&n.hasOwnProperty("name")&&n.hasOwnProperty("path")&&(e[n.name]=n,this.push(n))}catch(r){_catch(r)}},getPathBySortPath:function(t){return e[t].path},hasSortPath:function(t){return e.hasOwnProperty(t)},toString:function(){var t=[];for(var n in e)t.push("{name:'"+e[n].name+"',path:'"+e[n].path+"'}");return t.join(";")}}),lockObject(baseUIPath)}();function getUIInfo(e){var t=e.nodeName;if("SCRIPT"===t&&"ui"===getAttr(e,"type"))return e.getAttribute("name").toLowerCase();if(t.indexOf(":")){var n=t.split(":"),r=n[0].toLowerCase();if(baseUIPath.hasSortPath(r))return{sortPath:r,name:n[1].toLowerCase()}}}function compileDocument(e,t,n){var r,i=findTemplates(document.body.children),o=[];$t.xhr.get(location.href,!1,function(e){r=e});for(var a=0;a<i.length;a++)isDefine(i[a])?parseDefine(i[a]):o.push(i[a]);for(var a=0;a<o.length;a++)parseHTML(getTemplate(o[a]));var s=compileCls(),c=compileUI(t);s+=c.script;var d,l=e.outerHTML;s.length>0?(d=e.innerHTML,d=/[^ \r\n]/.test(d)?"\r\n;"+s:s):d="";var u=l.substring(0,l.length-9);u=u.replace(/ compile=(['"]).*?\1/,"").replace(/ compileuilist=(['"]).*?\1/,""),r=r.replace(l,u+d+"</script>"),n(r,c.compileJS,d)}function propertyToJS(e){var t=JSON.stringify({xx:e});return t=t.substring(6,t.length-1)}function renderTemplate(e){var t=getTemplate(e),n=$DOM(t);if(initHTML(n.childNodes),isFunction(n)){var r=e.parentNode;return replaceNodeByNodes(e,takeChildNodes(n.toDOM())),void(n.__domNode__=r)}replaceNodeByNodes(e,takeChildNodes(n.toDOM()))}function renderDocument(e){renderDocument.beginTime=new Date;var t,n=findTemplates(document.body.children),r=[];for(t=0;t<n.length;t++)isDefine(n[t])?parseDefine(n[t]):r.push(n[t]);for(t=0;t<r.length;t++)renderTemplate(r[t]);replaceCls(),renderDocument.endTime=new Date}function compileUI(e){var t=[],n=[];if(isString(e)&&(e=trimLine(e).split(","),e[0].length>0))for(var r=0;r<e.length;r++){e[r]=trimLine(e[r]);var t=e[r].split(":");importUIHTML(t[1],t[0])}t=[];for(var i in $t.ui)if($t.ui.hasOwnProperty(i)){var o=$t.ui[i];o.sortPath?(t.push('$t.importUIJS("'+i+'","'+o.sortPath+'");'),n.push({name:i,path:o.path,script:o.toDefineString()})):t.push(o.toDefineString())}return{script:t.join(""),compileJS:n}}function getNodeIndex(e){var t=0;for(e=e.previousElementSibling;null!=e;)e=e.previousElementSibling,t++;return t}function getNodeIndex2(e){var t=0;for(e=e.previousSibling;null!=e;)e=e.previousSibling,t++;return t}function getUUID(e){e=e||6,e=parseInt(e,10),e=isNaN(e)?6:e;for(var t="0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ",n=t.length-1,r="";e--;)r+=t[Math.round(Math.random()*n)];return r}function Scope(e,t,n){this.__name__=n,this.__commentNode__=e,this.__actionNode__=e.parentNode,this.__parent__=t,this.__children__=[],this.__proto__=t,lockObject2(this),e.parentNode.scope=this,t.__children__.push(this),n&&(t[n]=this)}function Client(){"use strict";var e={},t=!1,n=[],r=this;function i(){for(var e=0;e<n.length;e++)n[e]()}function o(o,a){e[o]=void 0,r[o]=function(s){if(void 0===e[o]&&r.__bind__){
t===!1&&(t=!0,window.addEventListener("resize",i));var c=function(){r[o]=a()};e[o]=a(),n.push(c)}return s&&(e[o]=s),e[o]}}o("onResize",function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}),o("width",function(){return document.documentElement.clientWidth}),o("height",function(){return document.documentElement.clientHeight}),o("left",function(){return document.documentElement.clientLeft}),o("top",function(){return document.documentElement.clientTop}),o("right",function(){return document.documentElement.clientLeft+document.documentElement.clientWidth}),o("bottom",function(){return document.documentElement.clientTop+document.documentElement.clientHeight})}function RootScope(){this.__actionNode__=document.documentElement,this.__children__=[],lockObject2(this),document.scope=this}function UIScope(){}UIScope.prototype={create:function(e,t){var n=this.get(e);return e.parentNode!==n.__actionNode__?(n=new Scope(e,n,t),this.stack.push(n)):throwError("当前层不允许重复定义scope:"+t),n},get:function(e){if(!e)return $rootScope;for(;null!=e;){if(e.scope)return e.scope;e=e.parentNode}return $rootScope},stack:[$rootScope],cut:function(e){var t=e.__parent__;e.__parent__=null,removeItem(t.__children__,e),delete t[e.name]},link:function(e,t){var n=$t.uiScope.get(t);n&&(e.__parent__=n,n.__children__.push(e),name&&(n[name]=e))}};function UI(){Object.defineProperty(this,"__defineCallbacks__",{value:[],writable:!1,enumerable:!1,configurable:!1})}UI.prototype={onDefine:function(e,t){isFunction(t)&&isString(e)&&0!==e.length&&(this.__defineCallbacks__.push({name:e,fn:t}),this.hasOwnProperty(e)&&t(this[e]))},emitOnDefine:function(e,t){for(var n=this.__defineCallbacks__,r=0;r<n.length;r++)n[r].name!==e&&"*"!==n[r].name||n[r].fn(t)},define:function(e,t,n,r,i){return this[e]=new UITemplate(e,t,n,r,i),this.emitOnDefine(e,this[e]),this[e]},toString:function(){var e=[];for(var t in this)this.hasOwnProperty(t)&&e.push(t);return e.join("\r\n")}};function Service(e){if(Object.defineProperty(this,"__defineCallbacks__",{value:[],writable:!1,enumerable:!1,configurable:!1}),isObject(e))for(var t in e)this[t]=e[t],this.emitOnDefine(t,this[t])}Service.prototype={require:function(e){return this.hasOwnProperty(e)||(this[e]=getService(e)),this[e]},onDefine:UI.prototype.onDefine,emitOnDefine:UI.prototype.emitOnDefine,define:function(e,t){try{this[e]=exec("("+t+")")}catch(n){_catch(n)}this.emitOnDefine(e,this[e])},toDefineString:function(){var e="new $t.Service(",t=[];for(var n in this)this.hasOwnProperty(n)&&t.push('"'+n+'":'+this[n].toString());return e+=t.length>0?"{"+t.join(",")+"})":")"}};var VDOM,VTemplate,stringNode={SCRIPT:/^\/script[>\s]/i,TEMPLATE:/^\/template[>\s]/i,STYLE:/^\/style[>\s]/i,TITLE:/^\/title[>\s]/i,TEXTAREA:/^\/textarea[>\s]/i,XMP:/^\/xmp[>\s]/i};!function(){var e={"":function(e,t){var n=t.node.nodeName;if(t.node.__closeSelf__)t.node=t.node.parentNode,t.action="textNode",t.textNodeStart=t.index;else{if(stringNode.hasOwnProperty(n))return t.action="stringNode",t.stringNodeRegExp=stringNode[n],t.stringNodeKeyLength=n.length+2,void(t.stringNodeStart=t.index);t.action="textNode",t.textNodeStart=t.index}},textNode:function(e,t){var n;switch(e[t.index]){case"<":t.index<t.length+1&&xmlwordRE.test(e[t.index+1])?(t.textNodeStart!==t.index&&(n=e.substring(t.textNodeStart,t.index),emptyTextNodeRE.test(n)||t.node(n,3),t.textNodeStart=0),t.xmlNodeStart=t.index,t.index++,t.action="xmlNode"):t.index++;break;default:t.index++}},createXMLNode:function(e,t){if(t.xmlNodeStart=0,t.xmlNodeNameStart>0){var n=e.substring(t.xmlNodeNameStart,t.index);t.node=t.node(n),t.xmlNodeNameStart=0,t.index++}t.action=""},setXMLNodeClose:function(e,t){for(var n=t.node,r=trim(e.substring(t.xmlNodeNameStart,t.index)).toUpperCase();n;){if(n.nodeName===r)return n.__isClose__=!0,t.node=n.parentNode,t.action="",void(t.xmlNodeNameStart=0);n=n.parentNode}t.node(r,8)},setAttrStart:function(e){e.action="attributes",e.attrStart=0,e.attrNameEnd=0,e.equlIndex=0,e.stringStart=0,e.stringStartChar=""},xmlNode:function(e,t){switch(e[t.index]){case">":this.createXMLNode(e,t);break;case" ":this.createXMLNode(e,t),t.action="attributes";break;case"!":t.xmlNodeStart===t.index-1&&(t.action="comment"),t.index++;break;case"/":if(t.xmlNodeStart===t.index-1)return t.action="endXmlNode",t.index++,void(t.xmlNodeNameStart=t.index);if(t.length>=t.index+1&&">"===e.substr(t.index+1,1))return this.createXMLNode(e,t),void t.index++;break;default:0===t.xmlNodeNameStart&&(t.xmlNodeNameStart=t.index),t.index++}},endXmlNode:function(e,t){switch(e[t.index]){case">":this.setXMLNodeClose(e,t),t.index++;break;default:t.index++}},comment:function(e,t){switch(e[t.index]){case">":t.node("",8),t.index++;break;case"-":t.length>=t.index+2?"-"===e.substr(t.index+1,1)?(t.commentStart=t.index+2,t.action="comment3",t.index+=2):(t.commentStart=t.index,t.action="comment2",t.index++):t.index++;break;case"d":case"D":t.length>=t.index+7&&"OCTYPE"===e.substr(t.index+1,6).toUpperCase()?(t.node("",10),t.index+=13,t.action=""):t.index++;break;default:t.commentStart=t.index,t.action="comment2",t.index++}},comment2:function(e,t){if(">"===e[t.index]){var n=t.node(e.substring(t.commentStart,t.index),8);n.dbplus=!1,t.commentStart=0,t.action=""}t.index++},comment3:function(e,t){if("-"===e[t.index]&&t.length>=t.index+3&&"->"===e.substr(t.index+1,2)){var n=t.node(e.substring(t.commentStart,t.index),8);return n.dbplus=!0,t.commentStart=0,t.action="",void(t.index+=3)}t.index++},attributes:function(e,t){switch(e[t.index]){case"/":if(t.length>=t.index+2&&">"===e.substr(t.index+1,1)){t.attrStart!==t.attrNameEnd&&(0===t.attrNameEnd&&(t.attrNameEnd=t.index),t.node._(e.substring(t.attrStart,t.attrNameEnd))),t.action="",t.index+=2;break}t.attrStart=t.attrNameEnd=0,t.action="",t.index++;break;case">":t.attrStart!==t.attrNameEnd&&(0===t.attrNameEnd&&(t.attrNameEnd=t.index),t.node._(e.substring(t.attrStart,t.attrNameEnd))),t.attrStart=t.attrNameEnd=0,t.action="",t.index++;break;case"=":t.attrStart>0&&0===t.attrNameEnd&&(t.attrNameEnd=t.index),t.equlIndex=t.index,t.action="attrValue",t.index++;break;case"\r":case"\n":case" ":t.attrStart>0&&0===t.attrNameEnd&&(t.attrNameEnd=t.index),t.index++;break;default:0===t.attrStart?t.attrStart=t.index:t.equlIndex>0?(t.node._(e.substring(t.attrStart,t.attrNameEnd)),this.setAttrStart(t)):0!==t.attrNameEnd&&(t.node._(e.substring(t.attrStart,t.attrNameEnd)),this.setAttrStart(t),t.attrStart=t.index),t.index++}},attrValue:function(e,t){switch(e[t.index]){case"\r":case"\n":case" ":t.index++;break;case'"':t.stringStartChar='"',t.action="atvstring",t.index++,t.stringStart=t.index;break;case"'":t.stringStartChar="'",t.action="atvstring",t.index++,t.stringStart=t.index;break;case">":t.node._(e.substring(t.attrStart,t.attrNameEnd)),t.action="",t.index++;break;case"/":if(t.length>=t.index+2&&">"===e.substring(t.index+1,1))return t.node._(e.substring(t.attrStart,t.attrNameEnd)),t.action="",void(t.index+=2);t.index++;break;default:t.action="atvbetweenSpace",t.betweenSpaceStart=t.index,t.index++}},atvbetweenSpace:function(e,t){switch(e[t.index]){case" ":t.node._(e.substring(t.attrStart,t.attrNameEnd),e.substring(t.betweenSpaceStart,t.index)),this.setAttrStart(t),t.index++;break;case">":t.node._(e.substring(t.attrStart,t.attrNameEnd),e.substring(t.betweenSpaceStart,t.index)),this.setAttrStart(t);break;case"/":if(t.length>=t.index+2&&(t.node._(e.substring(t.attrStart,t.attrNameEnd),e.substring(t.betweenSpaceStart,t.index)),">"===e.substring(t.index+1,1)))return this.setAttrStart(t),void t.index++;t.index++;default:t.index++}},atvstring:function(e,t){switch(e[t.index]){case"\\":t.index+=2;break;case t.stringStartChar:t.node._(e.substring(t.attrStart,t.attrNameEnd),e.substring(t.stringStart,t.index)),this.setAttrStart(t),t.index++;break;default:t.index++}},stringNode:function(e,t){if("<"===e[t.index]&&t.length>=t.index+t.stringNodeKeyLength+1&&t.stringNodeRegExp.test(e.substr(t.index+1,t.stringNodeKeyLength))){var n=e.substring(t.stringNodeStart,t.index);return emptyTextNodeRE.test(n)||t.node.text(n),t.stringNodeStart=0,t.stringNodeRegExp=null,t.action="stringNode2",t.node.__isClose__=!0,t.node=t.node.parentNode,t.index+=t.stringNodeKeyLength,void(t.stringNodeKeyLength=0)}t.index++},stringNode2:function(e,t){">"===e[t.index]&&(t.action=""),t.index++},checkEnd:function(e,t){"textNode"===t.action&&t.textNodeStart!==t.index&&(data=e.substring(t.textNodeStart,t.index),emptyTextNodeRE.test(data)||t.node(data,3),t.textNodeStart=0)}},t={__proto__:e,attributes:function(e,t){switch(e[t.index]){case"{":break;case"<":}this.__proto__.attributes(e,t)}};function n(e,t){return e||(e=newVNode("document"),e.__isClose__=!0),{index:0,node:e,action:"",length:t,textNodeStart:0,xmlNodeStart:0,xmlNodeNameStart:0,attrStart:0,attrNameEnd:0,equlIndex:0,stringStart:0,stringStartChar:"",betweenSpaceStart:0,stringNodeStart:0,stringNodeRegExp:null,stringNodeKeyLength:0}}VTemplate=function(e,r){var i=n(r,e.length);for(r=i.node;i.index<e.length;)t[i.action](e,i);return t.checkEnd(e,i),r},VDOM=function(t,r){var i=n(r,t.length);for(r=i.node;i.index<t.length;)e[i.action](t,i);return e.checkEnd(t,i),r}}();function NullValueHash(e){var t=e.split(",");for(var n in t)this[t[n]]=null}var newVNode=function(){var e=document.createElement("用于创建VStyle和toDom支持"),t=e.style,n={};function r(e,n){var r="",i=0,o={},a=this;for(var s in t)o[s]="";Object.defineProperty(this,"__",{value:o,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"length",{value:0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__elem__",{value:e,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(n,"__style__",{get:function(){return r},set:function(e){if(1!==i&&r!==e&&(r=e,2!==i)){i=1;for(var t,n=[];null!==(t=styleListRE.exec(e));)n.push(t);if(n.length>0){for(var o=0;o<n.length-1;o++)a[camelize(n[o][1])]=n[o][2];i=2,a[camelize(n[o][1])]=n[o][2]}i=0}}})}r.prototype=n;function i(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function o(e){for(var t="",n=0;n<e.length;n++)t+=decamelize(e[n])+":"+e[e[n]]+";";e.__elem__.setAttribute("style",t)}function a(e){Object.defineProperty(n,e,{get:function(){return this.__[e]},set:function(n){if(n!==this.__[e])if(""===n){if(this.__[e]===n)return;this.__[e]=n;for(var r=i(this,e),a=r;a<this.length-1;a++)this[a]=this[a+1];delete this[a],this.length--,o(this)}else{var s;if(t[e]=n,s=t[e],t[e]="",""!==n){this.__[e]=n;var c=this.__elem__.getAttribute(c),r=i(this,e);r===-1&&(this[this.length]=e,this.length++),o(this)}else throwError(e+"不支持"+n)}}})}for(var s in t)a(s);n=null;var c=new NullValueHash("br,input,hr,map,img,area,base,link,meta,frame,param,basefont,col"),d={A:["target","download","ping","rel","hreflang","type","coords","charset","name","rev","shape","href"],AREA:["alt","coords","shape","target","ping","noHref","href"],BASE:["href","target"],BLOCKQUOTE:["cite"],BODY:["text","link","vLink","aLink","bgColor","background"],BR:["clear"],CANVAS:["width","height"],CAPTION:["align"],COL:["span","align","vAlign","width"],COLGROUP:["span","align","vAlign","width"],DIALOG:["open"],DIR:["compact"],DIV:["align"],DL:["compact"],FIELDSET:["disabled","name"],H1:["align"],H2:["align"],H3:["align"],H4:["align"],H5:["align"],H6:["align"],HR:["align","color","noShade","size","width"],HTML:["version"],IFRAME:["src","srcdoc","name","sandbox","allowFullscreen","width","height","align","scrolling","frameBorder","longDesc","marginHeight","marginWidth"],IMG:["alt","src","srcset","sizes","crossOrigin","useMap","isMap","width","height","name","lowsrc","align","hspace","vspace","longDesc","border"],INPUT:["accept","alt","autocomplete","autofocus","checked","dirName","disabled","formAction","formEnctype","formMethod","formNoValidate","formTarget","height","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","size","src","step","type","value","width","align","useMap","autocapitalize","webkitdirectory","incremental"],INS:["cite","dateTime"],KEYGEN:["autofocus","challenge","disabled","keytype","name"],LEGEND:["align"],LI:["value","type"],LINK:["disabled","href","crossOrigin","rel","media","hreflang","type","charset","rev","target","integrity"],MAP:["name"],MENU:["compact"],META:["name","content","scheme"],METER:["value","min","max","low","high","optimum"],OL:["reversed","start","type","compact"],OPTGROUP:["disabled","label"],OPTION:["disabled","label","selected","value"],OUTPUT:["name"],P:["align"],PARAM:["name","value","type","valueType"],PRE:["width"],PROGRESS:["value","max"],Q:["cite"],SCRIPT:["src","type","charset","async","defer","crossOrigin","event","integrity"],SELECT:["autofocus","disabled","multiple","name","required","size"],SOURCE:["src","type","srcset","sizes","media"],STYLE:["media","type"],TABLE:["align","border","frame","rules","summary","width","bgColor","cellPadding","cellSpacing"],TBODY:["align","vAlign"],TD:["colSpan","rowSpan","headers","align","axis","height","width","noWrap","vAlign","bgColor","abbr","scope"],TEXTAREA:["autofocus","cols","dirName","disabled","maxLength","minLength","name","placeholder","readOnly","required","rows","wrap","autocapitalize"],TFOOT:["align","vAlign"],TH:["colSpan","rowSpan","headers","align","axis","height","width","noWrap","vAlign","bgColor","abbr","scope"],THEAD:["align","vAlign"],TR:["align","vAlign","bgColor"],TRACK:["kind","src","srclang","label","default"],UL:["compact","type"],VIDEO:["width","height","poster"],XMP:["width"]};function l(e,t,n){var r="__"+n+"__";Object.defineProperty(t,r,{value:"",writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(e,n,{get:function(){return t[r]},set:function(e){this.setAttribute(n,e)}})}function u(e){var t=d[e.nodeName];if(isArray(t)){(d[e.nodeName]=e.__proto__=newObject(e.nodeName[0]+e.nodeName.substring(1))).__proto__=R;for(var n in t)l(e.__proto__,e.attributes,t[n])}else e.__proto__=d[e.nodeName]}function h(e){Object.defineProperty(e.attributes,"__class__",{value:"",writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(e,"className",{get:function(){var t=e.attributes.__class__;return void 0===t?"":t},set:function(t){e.setAttribute("class",t)}})}function f(e,t){var n=function(e,t){return void 0!==e?n.append(e,t):(n.__isClose__=!0,n.parentNode)};switch(void 0===t&&(t=1),n.__={},n.childNodes=[],t){case 1:n.nodeName=e.toUpperCase(),n.attributes=new p,n.children=[],n.__events__=[],n.__isClose__=n.__closeSelf__=e in c,n.style=new r(n,n.attributes),h(n),defineClassList(n),n.nodeName in d?u(n):n.__proto__=R;break;case 3:n.__proto__=M,n.nodeName="#text",n.value=isString(e)?e:e.toString(),n.__isClose__=!0;break;case 8:n.nodeName="#comment",n.value=n.data=e,n.__proto__=R,n.__isClose__=!0;break;case 10:n.nodeName="html",n.__proto__=R,n.__isClose__=!0}return n.parentNode=null,n.nodeType=t,n}function p(){Object.defineProperty(this,"__length__",{value:0,writable:!0,enumerable:!1,configurable:!1})}p.prototype={indexOfName:function(e){for(var t=this.__length__,n=0;n<t;n++)if(this[n].name===e)return n;return-1},indexOf:function(e){for(var t=this.__length__,n=0;n<t;n++)if(this[n]===e)return n;return-1},getNamedItem:function(e){var t=this.indexOfName(e);return t===-1?null:this[t]},item:function(e){return this[e]},get length(){return this.__length__},removeNamedItem:function(e){if(isObject(e))var t=this.indexOf(e);else var t=this.indexOfName(e);if(t!==-1){for(var n=this.__length__,r=t;r<n;r++)this[r]=this[r+1];this.__length__--,delete this[this.__length__];var i="__"+e+"__";i in this&&(this[i]="")}},setNamedItem:function(e,t){isString(t)||(isObject(t)?t=t.toString():void 0===t&&(t=""));var n=this.indexOfName(e);n===-1?(this[this.__length__]={name:e,value:t},this.__length__++):this[n].value=t;var r="__"+e+"__";r in this&&(this[r]=t)}};function m(e,t){return v.call(this,f(e,t))}function g(e){var t=this.childNodes.indexOf(e);return t===-1?v.call(this,e):e}function v(e){if(e instanceof Node)return void throwError("虚拟DOM只能插入虚拟节点！");this.childNodes.push(e),1===e.nodeType&&this.children.push(e);var t=e.parentNode;return t&&t.removeChild(e),e.parentNode=this,e}function _(e){return e&&0!==this.childNodes.length?(removeItem(this.childNodes,e),removeItem(this.children,e),e.parentNode=null,e):e}function b(){var e=Array.prototype.join.call(arguments,"\r\n"),t=f(e,3);return this.appendChild(t),this}function y(e){var t=f($t.getFunctionComment(e),3,"PRE"===this.nodeName);return this.appendChild(t),this}function N(e){this.attributes.removeNamedItem(e)}function S(e){this.attributes.removeNamedItem(e)}function x(e){return this.attributes.indexOfName(e)!==-1}function w(e,t){return e&&!emptyTextNodeRE.test(e)?(this.attributes.setNamedItem(e,t),$t.getBind(this,w)):this}function O(e,t){return e?w.call(this,e,t):this.parentNode}function T(e){var t=this.attributes.getNamedItem(e);return t?t.value:null}function E(){return this.__domNode__?this.__domNode__:this}function P(){if(1!==this.nodeType)return f(this.data,this.nodeType);for(var e=f(this.nodeName,this.nodeType),t=this.attributes,n=0;n<t.length;n++)e.setAttribute(t[n].name,t[n].value);return e.__isClose__=this.__isClose__,e.__closeSelf__=this.__closeSelf__,e}function C(e,t){if(e instanceof Node)return void throwError("虚拟DOM只能插入虚拟节点！");var n=t.parentNode;if(n){var r=n.childNodes,i=r.indexOf(t);if(i!==-1){var o=e.parentNode;if(o&&o.removeChild(e),r.splice(i,0,e),e.parentNode=n,1===e.nodeType)if(i>=r.length)r.push(e);else{for(var r=n.children,a=i;a<r.length;a++)if(1===r[a].nodeType)return void r.splice(a,0,e);r.push(e)}}}}function k(){var e="";switch(this.nodeType){case 3:e+=this.data;break;case 1:for(var t=this.childNodes,n=0;n<t.length;n++)e+=encodeHTML(t[n].innerText)}return e}function B(e){var t;t=this.children;for(var n in t)delete t[n];t=this.childNodes;for(var n in t)delete t[n];this.appendChild(f(decodeHTML(e),3))}function L(e){this.children.length=0,this.childNodes.length=0,isString(e)||(e=e.toString()),this.nodeName in stringNode?this.appendChild($node(e,3)):new VDOM(e,this)}function I(){var e=this.childNodes,t=[];if(e)for(var n=0;n<e.length;n++)t.push(e[n].outerHTML);return t.join("")}function A(e,t){var n=e.parentNode;if(n&&n.__domNode__){var r=n.__domNode__;if(0===r.childNodes.length)r.appendChild(t);else for(var i=e;!0;){if(i=i.previousSibling,!i){for(i=e;!0;){if(i=i.nextSibling,!i){r.appendChild(t);break}var o=i.__domNode__;if(o&&o.parentNode){r.insertBefore2(t,o);break}}break}var o=i.__domNode__;if(o&&o.parentNode){r.insertBefore2(t,o),r.insertBefore2(o,t);break}}}}function j(){this.setAttribute=w,this._=O,this.text=b,this.text2=y,this.append=m,this.appendChild=g,this.removeChild=_,this.hasAttribute=x,this.removeAttribute=N,this.removeAttributeNode=S,this.getAttribute=T,this.insertBefore=C,this.insertBefore2=C,this.cloneNode=P,this.valueOf=E,this.toString=function(){return"[object HTML"+this.nodeName[0]+this.nodeName.substring(1).toLowerCase()+"Element]"},this.toXMLNodeString=function(){var e=[],t="",n=[],r=this.attributes;if(r){for(var i=0;i<r.length;i++)n.push(r[i].value?r[i].name+'="'+r[i].value+'"':r[i].name);n.length>0&&(t=" "+n.join(" "))}switch(this.nodeType){case 1:e.push("<"+this.nodeName.toLowerCase()+t+">"),!this.__closeSelf__&&this.__isClose__&&e.push("</"+this.nodeName.toLowerCase()+">");break;case 3:e.push(this.data);break;case 8:e.push(this.dbplus?"<!--"+this.data+"-->":"<!"+this.data+">");break;case 10:e.push("<!DOCTYPE html>")}return e},this.addEventListener=function(e,t,n){1===this.nodeType&&(n||(n=!1),this.__events__.push([e,t,n]))},this.removeEventListener=function(e,t,n){if(1===this.nodeType){n||(n=!1);var r=this.__events__;for(var i in r){var o=r[i];o[0]===e&&o[1]===t&&o[2]===n&&(r.splice(i,1),i--)}}},this.toJS=function(){var e,t="",n="",r="",i="";if(null!==this.parentNode&&this.__isClose__&&(i="()"),null===this.parentNode&&(t="$VNode"),1===this.nodeType){if(t+='("'+this.nodeName+'")',this.attributes.length>0){n="._";for(var o=this.attributes,a=0;a<o.length;a++)n+='("'+o[a].name,n+=o[a].value?'","'+o[a].value+'")':'")';n+="()"}var s=this.childNodes;if(s.length>0)for(var a=0;a<s.length;a++)r+=s[a].toJS()}else e=this.data,e=e.replace(/[\'\"\r\n]/g,function(e){switch(e){case"'":case'"':return"\\"+e;case"\r":return"\\r";case"\n":return"\\n"}}),t+='("'+e+'",'+this.nodeType+")";return t+n+r+i},this.toDOM=function(){var t;switch(this.nodeType){case 1:if(this.__domNode__)return t=this.__domNode__;t=document.createElement(this.nodeName),this.__domNode__=t;break;case 3:if(this.__domNode__)return this.__domNode__;""!==this.data?(e.innerHTML=this.data,t=e.removeChild(e.childNodes[0])):t=document.createTextNode(""),this.__domNode__=t;break;case 8:if(this.__domNode__)return this.__domNode__;t=document.createComment(this.data),this.__domNode__=t;break;case 10:default:if(this.__domNode__)return this.__domNode__;e.innerHTML=this.outerHTML,t=e.removeChild(e.childNodes[0]),this.__domNode__=t}for(var n in this)switch(n){case"attributes":for(var r=this.attributes,i=0;i<r.length;i++)t.setAttribute(r[i].name,r[i].value);break;case"__events__":var o=this.__events__;for(var i in o){var a=o[i];t.addEventListener(a[0],a[1],a[2])}break;case"__":var o=this.__;for(var i in o)t[i]=o[i];break;case"children":case"childNodes":case"__proto__":case"__isClose__":case"__domNode__":case"nodeType":case"nodeName":case"parentNode":case"__closeSelf__":case"style":case"classList":case"className":break;default:if(!this.hasOwnProperty(n))continue;var s=Object.getOwnPropertyDescriptor(this,n);s?n in t?t[n]=this[n]:Object.defineProperty(t,n,s):t[n]=this[n]}if(A(this,t),1===this.nodeType)if("PRE"===this.nodeName)this.childNodes.length>0&&(t.innerHTML=decodeHTML(this.childNodes[0].data));else for(var c=this.childNodes,i=0;i<c.length;i++)c[i].toDOM();return ae(this),t.__vdomNode__=this,t},Object.defineProperty(this,"outerHTML",{get:function(){var e=this.toXMLNodeString(),t=this.childNodes,n=[e[0]];if(t)for(var r=0;r<t.length;r++)n.push(t[r].outerHTML);return 2===e.length&&n.push(e[1]),n.join("")}}),Object.defineProperty(this,"previousSibling",{get:function(){var e=this.parentNode;if(!e)return null;var t=e.childNodes,n=t.indexOf(this),r=t[n-1];return r?r:null}}),Object.defineProperty(this,"nextSibling",{get:function(){var e=this.parentNode;if(!e)return null;var t=e.childNodes,n=t.indexOf(this),r=t[n+1];return r?r:null}});var t=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onautocomplete","onautocompleteerror","onbeforecopy","onbeforecut","onbeforepaste","oncopy","oncut","onpaste","onsearch","onselectstart","onwheel","onwebkitfullscreenchange","onwebkitfullscreenerror"];function n(e,t){Object.defineProperty(e,t,{get:function(){return this.__domNode__?this.__domNode__[t]:this.__[t]},set:function(e){return this.__domNode__?this.__domNode__[t]=e:this.__[t]=e,e}})}Object.defineProperty(this,"innerHTML",{get:I,set:L}),Object.defineProperty(this,"innerText",{get:k,set:B});for(var r in t)n(this,t[r])}function $(){this.__proto__=R,this.__value__="";var e={get:function(){return this.__value__},set:function(e){this.__value__=e}};Object.defineProperty(this,"data",e),Object.defineProperty(this,"value",e)}var R=new j,M=new $;function D(e){return function(){return this.__proto__[e].apply(this,arguments),this.__domNode__[e].apply(this.__domNode__,arguments)}}function H(e){return function(){for(var t=[],n=[],r=0;r<arguments.length;r++){var i=arguments[r].valueOf();i===arguments[r]&&(n.push(i),i=i.toDOM()),t.push(i)}this.__proto__[e].apply(this,arguments);for(var o=this.__domNode__[e].apply(this.__domNode__,t),r=0;r<n.length;r++)for(var a=n[r].childNodes,s=0;s<a.length;s++){var c=a[s].childNodes;if(c.length!==a[s].__domNode__.childNodes.length)for(var d=0;d<c.length;d++)null===c[d].__domNode__.parentNode&&A(c[d],c[d].__domNode__)}return o}}function F(e){return function(){return this.__domNode__[e].apply(this.__domNode__,arguments)}}var U=F("setAttribute"),z=F("hasAttribute"),V=F("removeAttribute"),X=F("removeAttributeNode"),J=H("appendChild"),W=function(){return function(e){return e.parentNode&&e.__domNode__&&this.__domNode__.removeChild(e.__domNode__),this.__proto__.removeChild.call(this,e)}}(),Y=H("insertBefore"),K=H("insertBefore2"),Z=D("addEventListener"),q=D("removeEventListener"),G=function(){return this.__domNode__.style},Q=function(){return this.__domNode__.classList},ee=function(){return this.__domNode__.offsetTop},te=function(){return this.__domNode__.offsetLeft},ne=function(){return this.__domNode__.offsetWidth},re=function(){return this.__domNode__.offsetHeight},ie=function(){return this.__domNode__.attributes},oe=function(){return this.__domNode__.toString.apply(this.__domNode__,arguments)};function ae(e){if(1===e.nodeType)switch(e.setAttribute=U,e.hasAttribute=z,e.appendChild=J,e.removeChild=W,e.removeAttribute=V,e.removeAttributeNode=X,e.insertBefore=Y,e.insertBefore2=K,e.toString=oe,e.addEventListener=Z,e.removeEventListener=q,Object.defineProperty(e,"style",{get:G}),Object.defineProperty(e,"classList",{get:Q}),Object.defineProperty(e,"offsetTop",{get:ee}),Object.defineProperty(e,"offsetLeft",{get:te}),Object.defineProperty(e,"offsetWidth",{get:ne}),Object.defineProperty(e,"offsetHeight",{get:re}),Object.defineProperty(e,"attributes",{get:ie}),e.nodeName){case"INPUT":case"SELECT":case"TEXTAREA":Object.defineProperty(e,"value",{get:function(){return this.__domNode__.value},set:function(e){this.__domNode__.value=e}});case"INPUT":Object.defineProperty(e,"checked",{get:function(){return this.__domNode__.checked},set:function(e){this.__domNode__.checked=e}})}else 3===e.nodeType&&(Object.defineProperty(e,"data",{get:function(){return this.__value__},set:function(e){this.__value__=e,this.__domNode__.data=e}}),Object.defineProperty(e,"value",{get:function(){return this.__value__},set:function(e){this.__value__=e,this.__domNode__.value=e}}))}return f}();function newKeyArrayObject(e){return newObject(e,newKeyArrayObject.prototype)}newKeyArrayObject.prototype={push:function(e,t){if(isArray(e))for(var n=0;n<e.length;n++)this.hasOwnProperty(e[n])||((this[e[n]]=[]).last=last),this[e[n]].push(t);else this.hasOwnProperty(e)||((this[e]=[]).last=last),this[e].push(t)},clear:function(){forEach(this,function(e,t,n){delete n[t]},this,!1)},getKeyArray:function(){return getKeyArray(this)},pop:function(e){var t=this[e];return t?t.pop():void 0}};function makeCompileString(){var e=$t.turtleScriptElement.cloneNode();e.setAttribute("compile","");var t=$t.ui,n=[];return forEach(t,function(e,r){t[r].sortPath&&n.push(t[r].sortPath+":"+r)},this,!1),e.setAttribute("compileuilist",n.join(",")),e.outerHTML}var vNodesToDOM;function setParseMode(e){$VDOM=VDOM,$VNode=newVNode,1===e?($DOM=VDOM,$node=newVNode,vNodesToDOM=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toDOM());return t}):($DOM=function(e){var t=document.createElement("ui:dom");return t.innerHTML=e,t},$node=function(e,t){switch(t){case 3:return document.createTextNode(e);break;case 8:return document.createComment(e);break;case 1:case void 0:return document.createElement(e);break;case 10:return null;break;default:return null}},Node.prototype.toDOM=Node.prototype.valueOf=function(){return this},vNodesToDOM=function(e){return e})}function aftertInit(){var e,t=$t.turtleScriptElement=document.scripts[document.scripts.length-1],n=getAttr(t,"compile",null),r=getAttr(t,"load",null),i=t.innerHTML,o=getAttr(t,"baseuipath",null),a=getAttr(t,"extend",null),s=getAttr(t,"compilename",null),c=getAttr(t,"compileuilist",null);baseUIPath.push(o?o.split(";"):'{path:"ui",name:"ui"}'),a&&$t.extend(window,$t.fn),$t.url=t.getAttribute("src"),null!==n&&("1"!=getQueryString("turtle_nocompile")&&$t.xhr.get(t.src+".setup",!1,function(e){try{exec("compileInfo="+e)}catch(t){_catch(t)}}),$t.isCompile=!0);var d=e&&e.isOn&&e.url?f:p;if(r){var l=r.split(","),u=0,h=function(){u++,u<l.length?$t.includeJSFiles(l[u],h):d()};$t.includeJSFiles(l[0],h)}else d();i.length>0&&execScript(t);function f(){$t.ready(function(){$t.compileDocument(t,c,function(t,r,i){s||(s=getNameByURL(getNameByLocation()),/\./.test(s)&&(s=s.split(".")[0]));var o=e.url+"?htmlName="+s,a=document.body;a.innerHTML='<div style="background-color:#fff;position:absolute;left:0;right:0;bottom:0;top:0;">开始编译页面</div>';var c=a.children[0];switch(n){case"onlyBody":t="<xmp><script>"+i+"</script></xmp>"+t.match(/(<body[\s\S]*?>)([\s\S]*?)(<\/body>)/)[2]}$t.xhr.post(o,t,!1,function(t){var n=document.createElement("br"),i=document.createElement("span"),o=1e3;i.innerHTML="?",i.style.color="#f00",c.appendChild(n),c.appendChild(n.cloneNode()),c.appendChild(document.createTextNode("刷新页面剩余时间：")),c.appendChild(i),c.appendChild(n.cloneNode()),c.appendChild(n.cloneNode()),c.appendChild(document.createTextNode(t));for(var a=0;a<r.length;a++){var s=e.url+"?uiName="+r[a].name+"&uiPath="+r[a].path;$t.xhr.post(s,r[a].script,!1,function(e){c.appendChild(n.cloneNode()),c.appendChild(document.createTextNode(e))})}setTimeout(function(){window.location.href=appendQueryString("turtle_nocompile","1")},o),setInterval(function(){o-=100,i.innerHTML=o/1e3},100)})})})}function p(){$t.ready(function(){renderDocument(),$t.readyByRenderDocument.isReady=!0,emitResize()})}}function ready(e){if($t.readyByRenderDocument.isReady||readyRE.test(document.readyState)&&null!==document.body)e();else{function t(){null!==document.body&&(window.removeEventListener("DOMContentLoaded",t),clearInterval(n),e())}var n=setInterval(function(){($t.readyByRenderDocument.isReady||readyRE.test(document.readyState)&&null!==document.body)&&(clearInterval(n),window.removeEventListener("DOMContentLoaded",t),e())},10);window.addEventListener("DOMContentLoaded",t,!1)}return this}function Config(){this.baseUIPath=baseUIPath,this.baseServicePath="service",lockObject(this),this.debugMode=2}var onViewOnce=function(){var e=[];function t(e,t){for(var n=0;n<e.length;n++)if(e[n].target===t)return n;return-1}function n(e){var n=[],r=[];this.target=e,this.on=function(e,o){var a=t(r,e);if(a!==-1)return void o();a=t(n,e);var s;a!==-1?(s=n[a],s.fn.push(o)):(s={target:e,fn:[o]},n.push(s)),1===s.fn.length&&1===n.length&&(window.addEventListener("scroll",i),i())};function i(t){for(var r=e.scrollTop,o=r+e.clientHeight,a=e.scrollLeft,s=a+e.clientWidth,c=0;c<n.length;c++){for(var d=n[c].target,l=0,u=0;d!==e&&null!==d;)l+=d.offsetTop,u+=d.offsetLeft,d=d.parentNode;if(u>=a&&u<s&&l>=r&&l<=o){for(var h=n[c].fn,f=h.length,p=0;p<f;p++)h.pop()();n.splice(c,1),c--}}0===n.length&&window.removeEventListener("scroll",i)}}return function(r,i,o){var a=t(e,i);a===-1?(viewWatch=new n(i),e.push(viewWatch)):viewWatch=e[a],viewWatch.on(r,o)}}();function ReadyObject(){var e=!1,t={on:function(t){isFunction(t)&&(e?t():this.readyFunctions.push(t))},readyFunctions:[]};return Object.defineProperty(t,"isReady",{get:function(){return e},set:function(t){for(e=t;this.readyFunctions.length>0;)this.readyFunctions.shift()()}}),t}var fn={};fn.$$=$$,fn.onTry=onTry,fn.getOnTry=getOnTry,fn.getClosure=getClosure,fn.getClosureTry=getOnTry,fn.getStep=getStep,fn.exec=eval,fn.addStyle=addStyle,fn.addClassName=addClassName,fn.addClass=addClass,fn.addClasses=addClasses,fn.removeClass=removeClass,fn.removeClasses=removeClasses,fn.replaceClass=replaceClass,fn.toggleClass=toggleClass,fn.isRegExp=isRegExp,fn.isDate=isDate,fn.isNumber=isNumber,fn.isString=isString,fn.isFunction=isFunction,fn.isObject=isObject,
fn.isFinite=isFinite,fn.isUndefined=isUndefined,fn.isArray=isArray,fn.isRepeat=isRepeat,fn.isArrayLike=isArrayLike,fn.isPersent=isPersent,fn.persentToFloat=persentToFloat,fn.toArray=toArray,fn.moveArray=moveArray,fn.getRect=getRect,fn.getOffsetPos=getOffsetPos,fn.encodeHTML=encodeHTML,fn.decodeHTML=decodeHTML,fn.idle=idle,fn.elementDOMdistance=elementDOMdistance,fn.elementInElement=elementInElement,fn.getDebounce=getDebounce,fn.getReTimeout=getReTimeout,fn.getAttr=getAttr,fn.extend=extend,fn.extendConst=extendConst,fn.lockObject=lockObject,fn.lockObject2=lockObject2,fn.getBind=getBind,fn.compact=compact,fn.flatten=flatten,fn.camelize=camelize,fn.decamelize=decamelize,fn.dasherize=dasherize,fn.takeOutChildNodes=takeOutChildNodes,fn.takeChildNodes=takeChildNodes,fn.trim=trim,fn.trimLine=trimLine,fn.HTMLTrim=HTMLTrim,fn.map=map,fn.each=each,fn.forEach=forEach,fn.forEachSorted=forEachSorted,fn.treeEach=treeEach,fn.scriptToJSON=scriptToJSON,fn.replaceNodeByNodes=replaceNodeByNodes,fn.replaceNodeByNode=replaceNodeByNode,fn.replaceNodeByString=replaceNodeByString,fn.insertNodesBefore=insertNodesBefore,fn.insertNodeBefore=insertNodeBefore,fn.appendNodes=appendNodes,fn.nodesToString=nodesToString,fn.parseBool=parseBool,fn.getUUID=getUUID,fn.handleWebkitRrror=handleWebkitRrror,fn.getNodeIndex=getNodeIndex,fn.getNodeIndex2=getNodeIndex2,fn.getNameByURL=getNameByURL,fn.getFileNameByURL=getFileNameByURL,fn.getNameByLocation=getNameByLocation,fn.execTurtleScript=execTurtleScript,fn.lowercase=lowercase,fn.uppercase=uppercase,fn.getDPI=getDPI,fn.removeNode=removeNode,fn.ReadyObject=ReadyObject,fn.dateFormat=dateFormat,fn.objectChange=objectChange,fn.objectPropertyChange=objectPropertyChange,fn.bindProperty=bindProperty,fn.bindNodeByCondition=bindNodeByCondition,fn.bindNode=bindNode,fn.bindElementProperty=bindElementProperty,fn.getUIInfo=getUIInfo,fn.repeatCall=repeatCall,fn.removeItem=removeItem,fn.UITemplate=UITemplate,fn.importUIJS=importUIJS,fn.importUIHTML=importUIHTML,fn.onPropertyChange=onPropertyChange,fn.bindNodeProperty=bindNodeProperty,fn.bindFunction=bindFunction,fn.newHashObject=newHashObject,fn.newArrayObject=newArrayObject,fn.includeJSFiles=includeJSFiles,fn.bindElementPropertyByName=bindElementPropertyByName,fn.toVarString=toVarString,fn.log=log,fn.bp=bp,fn.camelCase=camelCase,fn.execByScope=execByScope,fn.execTemplateScript=execTemplateScript,fn.toPercent=toPercent,fn.getStateFunction=getStateFunction,fn.onViewOnce=onViewOnce,fn.removeBlockBetween=removeBlockBetween,fn.takeBlockBetween=takeBlockBetween,fn.getElementsBetween=getElementsBetween,fn.cloneBetween=cloneBetween,fn.dropMove=dropMove,fn.DropRect=DropRect,fn.slice=slice,fn.push=push,fn.getFunctionComment=getFunctionComment,fn.getFunctionComments=getFunctionComments,fn.VDOM=VDOM,fn.newVNode=newVNode;function Turtle(){this.isTemplate=isTemplate,this.config=new Config,this.event={onerror:function(e){log(e),bp(),alert(e)}},this.getUI=getUI,this.renderIn=renderIn,this.renderBefore=renderBefore,this.parseHTML=parseHTML,this.parseXMP=parseXMP,this.renderDocument=renderDocument,this.renderTemplate=renderTemplate,this.compileDocument=compileDocument,this.replaceCls=replaceCls,this.initHTML=initHTML,this.ui=new UI,this.jsScript=newHashObject("JSHash"),this.styleClasses=newKeyArrayObject("StyleClasses"),this.refs=newKeyArrayObject("RefElements"),this.parts=newKeyArrayObject("Parts"),this.clsNode=newArrayObject("ClassNode"),this.store=new Store,this.service=new Service,this.uiScope=new UIScope,this.xhr=new XHR,Object.defineProperty(this,"rootParts",{get:function(){return new RootParts}}),this.ready=ready,this.readyByRenderDocument=new ReadyObject,this.fn=fn,this.turtleScriptElement="",this.makeCompileString=makeCompileString,this.Service=Service,this.UIParam=UIParam,this.renderParser={attributeParser:attributeParser,elementParser:elementParser},this.require=require,this.isIE=isIE,this.templates=templates,this.url="",this["catch"]=_catch,this.paramFilter=paramFilter,this.locStorage=locStorage,this.isCompile=!1,this.throwError=throwError,this.onResize=onResize,this.emitResize=emitResize,this.keyWord=new KeyWord}Turtle.prototype=fn,turtle=$t=new Turtle,$rootScope=new RootScope,$client=new Client,setParseMode(1),aftertInit()}();