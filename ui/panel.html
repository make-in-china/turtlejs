<xmp extends="base">
    <div p-main p-ref="panel" class="shadowless pdip5 mdip5 rdip5" style="display:inline-block;vertical-align:top;">
        <div class="ub ct">
            <div p-ref='title' class="ub-f1 fb ct pdip5 hem1">{title!}</div>
            <set lazy p-ref='btn'>
                <ui:button skin="close" style="font-size:1.5em !important;"></ui:button>
            </set>
        </div>
        <div p-ref="content" class="uof"><!content></div>
    </div>
    <script>
        var panel=part.$panel;
        var content=part.$content;
        var btn=part.$btn;
        var elemTitle=part.$title;
        var bgcolor={bgcolor!}.string();
        if(bgcolor){
            panel.style.backgroundColor=bgcolor;
        }else{
            panel.style.backgroundColor='#fff';
        }
        part.show=function(){
            panel.style.display="inline-block";
        }
        part.hide=btn.onclick=function(){
            panel.style.display="none";
        }
        part.setContent=function(elems){
            content.innerHTML="";
            $t.appendNodes(elems,content);
        }
        part.setTitle=function(title){
            elemTitle.innerHTML=title;
        }
        part.onSetSize=function(rect){
            $t.addClasses(content,['abs','top32','left5','right5','bottom5']);
            delete part.onSetSize;
            part.setSize(rect);
        }
    </script>
</xmp>