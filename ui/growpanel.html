<xmp extends='base'>
    <div p-main p-ref="panel" class="shadowless pdip5 mdip5 rdip5">
        <div class="ub ct">
            <div class="ub-f1 fb {%switch({align!}.only(0,1,2;0)){case 2:'ct';break;case 1:'right';}%} pdip5">{title!}</div>
            <set lazy append class="fz24" p-ref="sub">
                <ui:button skin="sub"></ui:button>
            </set>
            <set lazy append class="fz24 uhide" p-ref="add">
                <ui:button skin="add"></ui:button>
            </set>
        </div>
        <div class="ub-f1 zidx2" p-ref="content"><!content></div>
        <script>
            var panel=part.$panel;
            var add=part.$add;
            var sub=part.$sub;
            var content=part.$content;
            var isInline={inline!false}.bool();
            if(isInline){
                panel.style.display='inline-block';
            }
            part.max=add.onclick=function(){
                removeClass(sub,"uhide");
                addClass(add,"uhide");
                removeClass(content,"uhide");
                part.emitResize();
            }
            part.min=sub.onclick=function(){
                removeClass(add,"uhide");
                addClass(sub,"uhide");
                addClass(content,"uhide");
            }
            if(!parseBool({extend!0})){
                sub.onclick();
            }
            part.onSetSize=function(rect){
                var style=this.partMain.style;
                style.left=rect.left+'px';
                style.top=rect.top+'px';
                style.width=rect.width+'px';
                style.boxSizing='border-box';
                this.emitResize();
            }
        </script>
    </div>
</xmp>