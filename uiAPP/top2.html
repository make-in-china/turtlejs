<xmp service="run">
    function(script){
        $t.refNode.script[0].value=script;
        $t.refNode.ret[0].innerHTML=eval(script);
    }
</xmp>
<xmp>
    <div id="header_wrap" class="outer">
        <div class="zidx3 abs">
            <set lazy append class="bgray15">
                <ui:growpanel title="命令行" extend="0">
                    <div class="mdip2">
                        <textarea ref="script" class="fz18 bgray2 wem20 hem5 fgray15 bdw0 rdip5 pdip5" style="outline-width: 0; resize:none;"></textarea>
                        <br/>
                        <ui:button text="运行>:">
                            <script var="script">
                                $t.refNode.ret[0].innerHTML=eval(script.value);
                            </script>
                        </ui:button>
                            <br/>
                            <textarea ref="ret" class="rdip5 bgray2 fgray15 fz18 bgray2 w100 hem10 fgray15 bdw0" style="outline-width: 0; resize:none;"></textarea>
                    </div>
                </ui:growpanel>
                <ui:panel title="组件树">
                    
                </ui:panel>
            </set>
            
        </div>
        <header class="inner">
          <h1 id="project_title">Turtlejs（龟计算）</h1>
          <h2 id="project_tagline">make it for fun</h2>
          本博客由turtlejs构建完成
          <a target="_blank" : href:="'view-source:'+window.location.href">查看本页源码</a>
          <ui:button text="查看组件树">
            <script>
                var elems=[];
                var elem;
                function append(cpns,space){
                    for(var i=0;i<cpns.length;i++){
                        var elem=document.createElement("a");
                        elem.innerHTML='&lt;'+cpns[i].template.componentName+'&gt;';
                        elem.style.paddingLeft=space+"em";
                        elem.style.display="block";
                        elem.href="javascript:;";
                        elems.push(elem);
                        var c=cpns[i].child;
                        if(c.length>0){
                            append(c,space+2);
                        }
                    }
                }
                append($t.rootComponents,0);
                var tree=$t.ui.panel.components[0];
                tree.show();
                tree.setContent(elems);
            </script>
          </ui:button>
          <!! $t.ui.panel.components[0].hide();>
        </header>
        
    </div>
</xmp>